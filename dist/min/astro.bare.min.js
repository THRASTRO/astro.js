/* autogenerated by webmerge (compile context) */
;
/*
Astronomical Calculations (https://github.com/mgreter/astro.js)
- Copyright (c) 2017 Marcel Greter (http://github.com/mgreter)
*/;
/* Include three.js (Vector3) before */;
(function(S){var G=1*Math.PI,D=2*Math.PI,A=this.AstroJS={AU2M:149597870700,AU2KM:1.495978707E8,PC2M:30856776E9,PC2AU:206265,PC2LY:3.26156,KM2M:1E3,JY2JD:365.25,JD2SEC:86400,MSOL2KG:1.98855E30,DEG2RAD:D/360},L;for(L in A)S=L.split("2",2).reverse().join("2"),A[S]=1/A[L];A.exportConstants=function(k){for(var v in A)k[v]=A[v]};A.DMS2RAD=function(k,v,F){return(0>k?-1:1)*(Math.abs(k)+(v/60+F/60/60))*DEG2RAD};A.HMS2RAD=function(k,v,F){return 15*DMS2RAD(k,v,F)};A.PI=G;A.TAU=D;A.JD2000=2451545;var W=A.GMJD=
{sun:2.959122083684144E-4,mer:4.912547451450812E-11,ven:7.243452486162703E-10,ear:8.997011603631609E-10,emb:8.997011603631609E-10,mar:9.549535105779258E-11,jup:2.825345842083778E-7,sat:8.459715185680659E-8,ura:1.2920249167819694E-8,nep:1.5243589007842763E-8,plu:2.1886997654259697E-12};S=A.GMJY={};for(L in W)S[L]=W[L],S[L]*=133407.5625;A.CYCLE=function(k){k%=D;0>k&&(k+=D);return k};A.TURN=function(k){k%=D;k>G&&(k-=D);return k};A.JDtoJY2K=function(k){return(k-2451545)/365.25};A.JY2KtoJD=function(k){return 365.25*
k+2451545};A.exportConstants(this);Math.cbrt=Math.cbrt||function(k){var v=Math.pow(Math.abs(k),1/3);return 0>k?-v:v};Math.fmod=Math.fmod||function(k,v){return k%v};if("undefined"!=typeof THREE){var M=this.Vector3=THREE.Vector3;this.Matrix3=THREE.Matrix3;this.Matrix4=THREE.Matrix4;this.Quaternion=THREE.Quaternion}"use strict";(function(k){function v(a){if(a.empty)return this;"G"in a&&console.warn("G has been renamed to GM");this._GM=a.GM||a.G||v.GMP.sun;this._t=a.epoch||a.t||0;this.translate=a.translate||
null;"x"in a&&"y"in a&&"z"in a?this._r=new M(a.x,a.y,a.z):"rx"in a&&"ry"in a&&"rz"in a&&(this._r=new M(a.rx,a.ry,a.rz));"X"in a&&"Y"in a&&"Z"in a?this._v=new M(a.X,a.Y,a.Z):"vx"in a&&"vy"in a&&"vz"in a&&(this._v=new M(a.vx,a.vy,a.vz));if("r"in a&&"v"in a){var d=a.r,g=a.v;this._r=new M(d.x,d.y,d.z);this._v=new M(g.x,g.y,g.z)}this.vectors=!(!this._r||!this._v);d="aeiMnPLcCwWOkhqpG".split("");for(var h in d)a.hasOwnProperty(d[h])&&(this["_"+d[h]]=a[d[h]]);this._PW=a.PW||0;this._PO=a.PO||0;"name"in a&&
(this.name=a.name);this.lazy||(this.updateElements(),this.requireElements())}var F=Math.abs,N=Math.pow,m=Math.sin,x=Math.cos,q=Math.sqrt,T=Math.cbrt,H=Math.atan2,U=Math.asin,C=Math.acos;v.GMP=W;var b=v.prototype;b.clone=function(a){var d=this._t||0;d=null==a?0:a-d;var g=new v({empty:!0});d&&(delete this._v,delete this._r);for(var h in this)this.hasOwnProperty(h)&&(g[h]=this[h]&&"function"==typeof this[h].clone?this[h].clone():this[h]);d&&g._update(a);return g};b.checkElements=function(a){if(!this.elements)throw"Orbitals not calculated";
if(!("_i"in this))throw"Orbit is missing inclination (i)";if(!("_e"in this))throw"Orbit is missing eccentricity (e)";if(!("_a"in this))throw"Orbit is missing semi-major axis (a)";if(!("_b"in this))throw"Orbit is missing semi-minor axis (b)";if(!("_l"in this))throw"Orbit is missing semi-latus rectum (l)";if(!("_c"in this))throw"Orbit is missing periapsis (c)";if(!("_C"in this))throw"Orbit is missing apoapsis (C)";if(!("_L"in this))throw"Orbit is missing mean longitude (L)";if(!("_O"in this))throw"Orbit is missing right ascending node (O)";
if(!("_T"in this))throw"Orbit is missing time of periapsis (w)";if(!("_t"in this))throw"Orbit is missing time of reference epoch (t)";if(!("_w"in this))throw"Orbit is missing argument of periapsis (w)";if(!("_W"in this))throw"Orbit is missing longitude of the periapsis (W)";if(!("_n"in this))throw"Orbit is missing mean motion (n)";if(!("_M"in this))throw"Orbit is missing mean anomaly (M)";if(!("_P"in this))throw"Orbit is missing orbital period (P)";if(!("_A"in this))throw"Orbit is missing angular momentum (A)";
if(!("_c"in this))throw"Orbit is missing pericenter (c)";if(!("_C"in this))throw"Orbit is missing apocenter (C)";if(0>this._e)throw"Negative eccentricity is invalid";if(1<this._e)throw"Eccentricity must not be hyperbolic (> 1)";if(1==this._e)throw"Eccentricity must not be parabolic (== 1)";if(a&&!("_m"in this))throw"Orbit is missing true anomaly (m)";if(a&&!("_B"in this))throw"Orbit is missing radial velocity (B)";if(a&&!("_E"in this))throw"Orbit is missing eccentric anomaly (E)";};b.requireElements=
function(a){this.updateElements(a);this.checkElements(a);return this};b.updateElements=function(a){if(this.elements)return this;this.elements=!0;if("_r"in this&&"_v"in this){var d=this._r,g=this._v,h=this._GM,t=d.length();this._A3=d.clone().cross(g);this._A2=this._A3.lengthSq();this._A=q(this._A2);this._B=d.dot(g)/t;var w=this._e3=d.clone().multiplyScalar(g.lengthSq()-h/t).sub(g.clone().multiplyScalar(t*this._B)).multiplyScalar(1/h);g=w.lengthSq();g=this._e=q(g);this._i=C(this._A3.z/this._A);this._l=
this._A2/h;this._c=this._l/(1+g);this._C=this._l/(1-g);this._a=(this._C+this._c)/2;h=-this._A3.y;var y=+this._A3.x,B=q(h*h+y*y),z=0==B?0:C(h/B);this._O=0>y?D-z:z;z=h*w.x+y*w.y;this._w=0===B||0===g?0:C(z/B/g);0>w.z&&(this._w*=-1);d=0===g&&0===B?C(d.x/t):0===g?C((h*d.x+y*d.y)/(B*t)):C((w.x*d.x+w.y*d.y+w.z*d.z)/g/t);d=this._m=0>this._B?D-d:d;if(1>g){var l=this._E=CYCLE(H(q(1-g*g)*m(d),g+x(d)));this._M=l-g*m(l)}else 1<g&&(l=this._E=CYCLE(H(q(1-g*g)*m(d),g+x(d))),this._M=l-g*m(l));this._M=l-g*m(l)}"_k"in
this&&"_h"in this&&(this._W=H(this._h,this._k),this._e=this._h/m(this._W));"_q"in this&&"_p"in this&&(this._O=H(this._p,this._q),l=this._p-this._q,d=-q(2)*m(G/4-this._O),this._i=2*U(l/d));"_n"in this&&!("_a"in this)&&(this._a=T(this._GM/this._n/this._n));"_P"in this&&!("_a"in this)&&(l=this._P/D,this._a=T(this._GM*l*l));"_a"in this||("_c"in this&&"_C"in this?this._a=(this._C+this._c)/2:"_e"in this&&"_C"in this?this._a=this._C/(1+this._e):"_c"in this&&"_e"in this&&(this._a=this._c/(1-this._e)));"_e"in
this||("_c"in this&&"_C"in this?this._e=1-this._c/this._a:"_a"in this&&"_C"in this?this._e=this._C/this._a-1:"_c"in this&&"_a"in this&&(this._e=1-this._c/this._a));"_e"in this?(l=1-this._e*this._e,"_a"in this?(this._l=this._a*l,this._b=q(this._a*this._l)):"_b"in this?(this._a=this._b/q(l),this._l=this._a*l):"_l"in this&&(this._a=this._l/l,this._b=q(this._a*this._l))):"_a"in this?"_b"in this?(this._l=this._b*this._b/this._a,this._e=q(1-this._l/this._a)):"_l"in this&&(this._e=q(1-this._l/this._a),this._b=
q(this._a*this._l)):"_b"in this&&"_l"in this&&(this.a=this._b*this._b/this._l,this._e=q(1-this._l/this._a));"_a"in this&&!("_P"in this)&&(this._P=D/q(this._GM)*N(this._a,1.5));"_P"in this&&!("_n"in this)&&(this._n=D/this._P);"_P"in this&&!("_A"in this)&&"_a"in this&&"_b"in this&&(this._A=D*this._a*this._b/this._P);"_a"in this&&"_e"in this&&("_c"in this||(this._c=this._a*(1-this._e)),"_C"in this||(this._C=this._a*(1+this._e)));if("_L"in this)if("_M"in this)this._W=this._L-this._M,"_O"in this?this._w=
this._W-this._O:"_w"in this&&(this._O=this._W-this._w);else if("_W"in this)this._M=this._L-this._W,"_O"in this?this._w=this._W-this._O:"_w"in this&&(this._O=this._W-this._w);else if("_O"in this&&"_w"in this)this._W=this._O+this._w,this._M=this._L-this._W;else throw"Orbit incomplete";else if("_O"in this)if("_w"in this)this._W=this._O+this._w,"_M"in this&&(this._L=this._M+this._W);else if("_W"in this)this._w=this._W-this._O,"_M"in this&&(this._L=this._M+this._W);else throw"Orbit incomplete";else"_M"in
this&&"_w"in this&&"_W"in this&&(this._L=this._W+this._M,this._O=this._W-this._w);a&&this.m();"_W"in this&&(this._W=TURN(this._W));"_L"in this&&(this._L=CYCLE(this._L));"_M"in this&&(this._M=CYCLE(this._M));"_O"in this&&(this._O=CYCLE(this._O));"_w"in this&&(this._w=TURN(this._w));"_M"in this&&(this._T=-this._M/this._n);return this};b.E=function(a){var d=this._t||0;a=null==a?0:a-d;if("_E"in this&&!a)return this._E;d=this._e;var g=this._m,h=this._M;if(!a&&null!=d&&null!=g)return this._E=CYCLE(H(q(1-
d*d)*m(g),d+x(g)));if(null!=d&&null!=h){a&&(h+=CYCLE(this._n*a));g=.8>d?h:G;var t=1;for(var w=0;1E-12<F(t)&&12>w;++w){t=h-g+d*m(g);var y=d*x(g)-1;t/=y;g-=t}g=CYCLE(g);a||(this._E=g);return g}throw"Invalid orbital state";};b.m=function(a){if(0===arguments.length){if("_m"in this)return this._m;var d=this.E()/2;return this._m=CYCLE(2*H(q(1+this._e)*m(d),q(1-this._e)*x(d)))}return CYCLE(2*H(q(1+this._e)*m(a/2),q(1-this._e)*x(a/2)))};b.B=function(){if("_B"in this)return this._B;var a=this.r(),d=this.v();
return this._B=a.dot(d)/a.length()};b.e3=function(){if("_e3"in this)return this._e3;var a=this.r(),d=this.v();if(null!==a&&null!==d)return this._e3=a.clone().multiplyScalar(d.lengthSq()-this._GM/a.length()).sub(d.clone().multiplyScalar(a.length()*this.B())).multiplyScalar(1/this._GM)};b.i=function(){return this._i};b.e=function(){return this._e};b.a=function(){return this._a};b.b=function(){return this._b};b.l=function(){return this._l};b.C=function(){return this._C};b.c=function(){return this._c};
b.L=function(){return this._L};b.O=function(){return this._O};b.w=function(){return this._w};b.T=function(){return this._T};b.W=function(){return this._W};b.n=function(){return this._n};b.A=function(){return this._A};b.M=function(){return this._M};b.P=function(){return this._P};b.GM=function(){return this._GM};b.PW=function(){return this._PW};b.PO=function(){return this._PO};b.epoch=function(){return this._t};b.q=function(){return"_q"in this?this._q:this._q=x(this._O)*m(this._i/2)};b.p=function(){return"_p"in
this?this._p:this._p=m(this._O)*m(this._i/2)};b.k=function(){return"_k"in this?this._k:this._k=this._e*x(this._W)};b.h=function(){return"_h"in this?this._h:this._h=this._e*m(this._W)};b._update=function(a){var d=this._t||0;a=null==a?0:a-d;this.elements||this.resolveElements(!0);this._M=CYCLE(this._n*(a-this._T));this._L=CYCLE(this._M+this._W);this._PW&&(this._w=a/this._PW*D);this._PO&&(this._O+=a/this._PO*D);this._t=a+d;delete this._E;delete this._m;delete this._r;delete this._v;return this};b.state=
function(a){var d=this._t||0,g=null==a?0:a-d;this.elements||this.resolveElements(!0);if(!g&&"_r"in this&&"_v"in this)return{r:this._r,v:this._v,epoch:d,orbit:this,GM:this._GM};var h=this._e,t=this._a,w=this._i,y=this._O,B=this._w,z=this.E(a);a=this.m(z);this._PW&&(B+=g/this._PW*D);this._PO&&(y+=g/this._PO*D);var l=t*(1-h*x(z)),E=q(this._GM*t)/l;t=l*x(a);l*=m(a);a=E*-m(z);h=E*q(1-h*h)*x(z);z=m(y);var I=x(y);y=m(w);var Q=x(w);E=m(B);var R=x(B),O=R*I,P=R*z;w=E*Q;B=O-w*z;w=P+w*I;I=P*Q+E*I;z=O*Q-E*z;E*=
y;y*=R;l=new M(t*B-l*I,t*w+l*z,t*E+l*y);t=new M(a*B-h*I,a*w+h*z,a*E+h*y);g||(this._r=l,this._v=t);return{r:l,v:t,epoch:d,orbit:this,GM:this._GM}};b.r=function(a){return this.state(a).r};b.v=function(a){return this.state(a).v};b.inclination=b.i;b.eccentricity=b.e;b.semiMajorAxis=b.a;b.semiMinorAxis=b.b;b.semilatusRectum=b.l;b.meanLongitude=b.L;b.ascendingNode=b.O;b.argOfPericenter=b.w;b.argOfPeriapsis=b.w;b.timeOfPericenter=b.T;b.longitudeOfPericenter=b.W;b.meanMotion=b.n;b.meanAnomaly=b.M;b.orbitalPeriod=
b.P;b.angularMomentum=b.A;b.gravitationalParameter=b.GM;b.apsidalPrecession=b.PW;b.nodalPrecession=b.PO;b.trueAnomaly=b.m;b.radialVelocity=b.B;b.eccentricAnomaly=b.E;b.apoapsis=b.C;b.aphelion=b.C;b.apocenter=b.C;b.periapsis=b.c;b.perhelion=b.c;b.pericenter=b.c;b.position=b.r;b.velocity=b.v;k.Orbit=k.Orbital=v})(this);"use strict";(function(k){function v(e){e=JD2toJDE(e);for(var f=JDtoJY2K(e)/100,n=f*f,u=n*f,K=T+H*f+U*n+C*u,V=b+a*f+d*n+g*u,ba=h+t*f+w*n+y*u,ca=B+z*f+l*n+E*u,da=I+Q*f+R*n+O*u,X=e=0,Z,
aa,Y,J=0;J<q.length;J++)Z=q[J][0]+q[J][1]*f,aa=q[J][2]+q[J][3]*f,Y=x[J][0]*K+x[J][1]*V+x[J][2]*ba+x[J][3]*ca+x[J][4]*da,e+=Z*Math.sin(Y),X+=aa*Math.cos(Y);f=(23+26/60+21.448/3600-46.815/3600*f-5.9E-4/3600*n+.001813/3600*u)*DEG2RAD;e/=36E6/DEG2RAD;X/=36E6/DEG2RAD;return{longitude:TURN(e),obliquity:TURN(X),ecliptic:CYCLE(f)}}function F(e){if(2067314.5>e)return e=(e-2067314.5)/36525,1830-405*e+46.5*e*e;if(2067314.5<=e&&2305447.5>e)return e=(e-2396758.5)/36525,22.5*e*e;if(2312752.5<=e&&2448622.5>e){var f=
Math.floor((e-2312752.5)/730.5);f>m.length-2&&(f=m.length-2);var n=m[f+1]-m[f],u=m[f+2]-m[f+1];e=(e-(2312752.5+730.5*f))/730.5;return m[f+1]+e/2*(n+u+e*(n-u))}if(2448622.5<=e&&2455197.5>=e)return f=[56.86,63.83,70],n=f[1]-f[0],u=f[2]-f[1],e=(e-2451544.5)/3652.5,f[1]+e/2*(n+u+e*(u-n));e-=2382148;return-15+e*e/41048480}function N(e){var f=JDtoJY2K(e)/100;return CYCLE(P+c*(e-2451545)+r*f*f+p*f*f*f)}var m=[124,115,106,98,91,85,79,74,70,65,62,58,55,53,50,48,46,44,42,40,37,35,33,31,28,26,24,22,20,18,16,
14,13,12,11,10,9,9,9,9,9,9,9,9,10,10,10,10,10,11,11,11,11,11,11,11,12,12,12,12,12,12,13,13,13,13,14,14,14,15,15,15,15,16,16,16,16,16,17,17,17,17,17,17,17,17,16,16,15,14,13.7,13.1,12.7,12.5,12.5,12.5,12.5,12.5,12.5,12.3,12,11.4,10.6,9.6,8.6,7.5,6.6,6,5.7,5.6,5.7,5.9,6.2,6.5,6.8,7.1,7.3,7.5,7.7,7.8,7.9,7.5,6.4,5.4,2.9,1.6,-1,-2.7,-3.6,-4.7,-5.4,-5.2,-5.5,-5.6,-5.8,-5.9,-6.2,-6.4,-6.1,-4.7,-2.7,0,2.6,5.4,7.7,10.5,13.4,16,18.2,20.2,21.2,22.4,23.5,23.9,24.3,24,23.9,23.9,23.7,24,24.3,25.3,26.2,27.3,28.2,
29.1,30,30.7,31.4,32.2,33.1,34,35,36.5,38.3,40.2,42.2,44.5,46.5,48.5,50.5,52.2,53.8,54.9,55.8,56.9,58.3],x=[[0,0,0,0,1],[-2,0,0,2,2],[0,0,0,2,2],[0,0,0,0,2],[0,1,0,0,0],[0,0,1,0,0],[-2,1,0,2,2],[0,0,0,2,1],[0,0,1,2,2],[-2,-1,0,2,2],[-2,0,1,0,0],[-2,0,0,2,1],[0,0,-1,2,2],[2,0,0,0,0],[0,0,1,0,1],[2,0,-1,2,2],[0,0,-1,0,1],[0,0,1,2,1],[-2,0,2,0,0],[0,0,-2,2,1],[2,0,0,2,2],[0,0,2,2,2],[0,0,2,0,0],[-2,0,1,2,2],[0,0,0,2,0],[-2,0,0,2,0],[0,0,-1,2,1],[0,2,0,0,0],[2,0,-1,0,1],[-2,2,0,2,2],[0,1,0,0,1],[-2,0,
1,0,1],[0,-1,0,0,1],[0,0,2,-2,0],[2,0,-1,2,1],[2,0,1,2,2],[0,1,0,2,2],[-2,1,1,0,0],[0,-1,0,2,2],[2,0,0,2,1],[2,0,1,0,0],[-2,0,2,2,2],[-2,0,1,2,1],[2,0,-2,0,1],[2,0,0,0,1],[0,-1,1,0,0],[-2,-1,0,2,1],[-2,0,0,0,1],[0,0,2,2,1],[-2,0,2,0,1],[-2,1,0,2,1],[0,0,1,-2,0],[-1,0,1,0,0],[-2,1,0,0,0],[1,0,0,0,0],[0,0,1,2,0],[0,0,-2,2,2],[-1,-1,1,0,0],[0,1,1,0,0],[0,-1,1,2,2],[2,-1,-1,2,2],[0,0,3,2,2],[2,-1,0,2,2]],q=[[-171996,-174.2,92025,8.9],[-13187,-1.6,5736,-3.1],[-2274,-.2,977,-.5],[2062,.2,-895,.5],[1426,
-3.4,54,-.1],[712,.1,-7,0],[-517,1.2,224,-.6],[-386,-.4,200,0],[-301,0,129,-.1],[217,-.5,-95,.3],[-158,0,0,0],[129,.1,-70,0],[123,0,-53,0],[63,0,0,0],[63,.1,-33,0],[-59,0,26,0],[-58,-.1,32,0],[-51,0,27,0],[48,0,0,0],[46,0,-24,0],[-38,0,16,0],[-31,0,13,0],[29,0,0,0],[29,0,-12,0],[26,0,0,0],[-22,0,0,0],[21,0,-10,0],[17,-.1,0,0],[16,0,-8,0],[-16,.1,7,0],[-15,0,9,0],[-13,0,7,0],[-12,0,6,0],[11,0,0,0],[-10,0,5,0],[-8,0,3,0],[7,0,-3,0],[-7,0,0,0],[-7,0,3,0],[-7,0,3,0],[6,0,0,0],[6,0,-3,0],[6,0,-3,0],[-6,
0,3,0],[-6,0,3,0],[5,0,0,0],[-5,0,3,0],[-5,0,3,0],[-5,0,3,0],[4,0,0,0],[4,0,0,0],[4,0,0,0],[-4,0,0,0],[-4,0,0,0],[-4,0,0,0],[3,0,0,0],[-3,0,0,0],[-3,0,0,0],[-3,0,0,0],[-3,0,0,0],[-3,0,0,0],[-3,0,0,0],[-3,0,0,0]],T=297.85036*DEG2RAD,H=445267.11148*DEG2RAD,U=-.0019142*DEG2RAD,C=DEG2RAD/189474,b=357.52772*DEG2RAD,a=35999.05034*DEG2RAD,d=-.0086972*DEG2RAD,g=-DEG2RAD/3E5,h=134.96298*DEG2RAD,t=477198.867398*DEG2RAD,w=.0086972*DEG2RAD,y=DEG2RAD/56250,B=93.27191*DEG2RAD,z=483202.017538*DEG2RAD,l=-.0036825*
DEG2RAD,E=DEG2RAD/327270,I=125.04452*DEG2RAD,Q=-1934.136261*DEG2RAD,R=.0020708*DEG2RAD,O=DEG2RAD/45E4,P=280.46061837*DEG2RAD,c=360.98564736629*DEG2RAD,r=3.87933E-4*DEG2RAD,p=-DEG2RAD/3871E4;k.JDtoJDE=function(e){return e+F(e)/JD2SEC};k.JDEtoJD=function(e){return e-F(e)/JD2SEC};k.getMeanSiderealTime=N;k.getApparentSiderealTime=function(e){var f=v(e);return N(e)+f.longitude/1*Math.cos(f.obliquity)};k.getNutation=v})(this);"use strict";(function(k){function v(){return{p:this.p,l:this.l,z:this.z}}function F(){return{x:this.x,
y:this.y,z:this.z}}function N(){return{l:this.l,b:this.b,i:this.i,r:this.r}}function m(){this.r=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z);this.i=Math.acos(this.z/this.r);this.b=G/2-this.i;this.l=Math.atan2(this.y,this.x);return(this.sph=N).call(this)}function x(){var c=this.r*Math.sin(this.i);this.x=c*Math.cos(this.l);this.y=c*Math.sin(this.l);this.z=this.r*Math.cos(this.i);return(this.cart=F).call(this)}function q(){this.p=Math.sqrt(this.x*this.x+this.y*this.y);this.l=Math.atan2(this.y,
this.x);return(this.cyl=v).call(this)}function T(){this.x=this.p*Math.cos(this.l);this.y=this.p*Math.sin(this.l);return(this.cart=F).call(this)}function H(){this.i=Math.atan2(this.p,this.z);this.b=G/2-this.i;this.r=Math.sqrt(this.p*this.p+this.z*this.z);return(this.sph=N).call(this)}function U(){this.p=this.r*Math.cos(this.b);this.z=this.r*Math.sin(this.b);return(this.cyl=v).call(this)}function C(c){"ra"in c&&(c.l=c.ra);"dec"in c&&(c.b=c.dec);"dist"in c&&(c.r=c.dist);"x"in c&&"y"in c&&"z"in c?(this.x=
c.x,this.y=c.y,this.z=c.z,this.cart=F,this.sph=m,this.cyl=q):"p"in c&&"l"in c&&"z"in c?(this.p=c.p,this.l=c.l,this.z=c.z,this.cart=T,this.sph=H,this.cyl=v):"l"in c&&(this.l=c.l,this.r=c.r||1,"i"in c||"b"in c)&&(this.cart=x,this.sph=N,this.cyl=U,"b"in c?(this.b=c.b,this.i=G/2-this.b):"i"in c&&(this.i=c.i,this.b=G/2-this.i))}C.prototype.ecl2equ=function(c){var r=this.cart(),p=Math.sin(c);c=Math.cos(c);return new C({x:r.x,y:r.y*c-r.z*p,z:r.z*c+r.y*p})};C.prototype.equ2ecl=function(c){var r=this.cart(),
p=Math.sin(c);c=Math.cos(c);return new C({x:r.x,y:r.y*c+r.z*p,z:r.z*c-r.y*p})};var b=32.932*DEG2RAD,a=192.859508*DEG2RAD,d=27.128336*DEG2RAD;C.prototype.gal2equ=function(){var c=this.sph(),r=c.l,p=c.b;c=Math.sin(p);p=Math.cos(p);var e=Math.sin(d),f=Math.cos(d),n=p*Math.sin(r-b),u=Math.asin(c*e+n*f);return{l:CYCLE(Math.atan2(p*Math.cos(r-b),c*f-n*e)+a),b:TURN(u)}};C.prototype.equ2gal=function(){var c=this.sph(),r=c.l,p=c.b;c=Math.sin(p);p=Math.cos(p);var e=Math.sin(d),f=Math.cos(d),n=Math.cos(a-r),
u=Math.asin(c*e+p*f*n);return{l:CYCLE(b-Math.atan2(Math.sin(a-r),n*e-c/p*f)-G/2),b:TURN(u)}};var g=2306.2181*DEG2RAD,h=1.39656*DEG2RAD,t=1.39E-4*DEG2RAD,w=.30188*DEG2RAD,y=3.44E-4*DEG2RAD,B=.017998*DEG2RAD,z=1.09468*DEG2RAD,l=6.6E-5*DEG2RAD,E=.018203*DEG2RAD,I=2004.3109*DEG2RAD,Q=.8533*DEG2RAD,R=.42665*DEG2RAD,O=2.17E-4*DEG2RAD,P=.041833*DEG2RAD;C.prototype.precess=function(c,r){var p=this.l,e=this.b;var f=(c-r)/36E4;var n=f*f,u=n*f;if(f){var K=r/36E4;var V=K*K;r=(g+h*K-t*V)*f+(z+l*K)*n+E*u;c=(g+
h*K-t*V)*f+(w-y*K)*n+B*u;f=(I-Q*K-O*V)*f-(R+O*K)*n-P*u}else r=g*f+z*n+P*u,c=g*f+w*n+B*u,f=I*f-O*n-P*u;u=Math.cos(e);n=u*Math.cos(p+c);p=u*Math.sin(p+c);c=Math.cos(f)*n-Math.sin(f)*Math.sin(e);f=Math.sin(f)*n+Math.cos(f)*Math.sin(e);r=Math.atan2(p,c)+r;e>.4*G||e<-.4*G?(p=Math.acos(Math.sqrt(p*p+c*c)),0>e&&(p*=-1)):p=Math.asin(f);e={l:CYCLE(r),b:TURN(p)};"r"in this&&(e.r=this.r);return e};k.Coord=C})(this)}).call(this,this);

/* crc: 3A0F1A3C95CB8C07FF4D6327C6EA3FAF */
