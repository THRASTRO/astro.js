/* autogenerated by webmerge (compile context) */
;
/*
Astronomical Calculations (https://github.com/mgreter/astro.js)
- Copyright (c) 2017 Marcel Greter (http://github.com/mgreter)
*/;
/* Include three.js (Vector3) before */;
(function(R){var F=1*Math.PI,C=2*Math.PI,A=this.AstroJS={AU2M:149597870700,AU2KM:1.495978707E8,PC2M:30856776E9,PC2AU:206265,PC2LY:3.26156,KM2M:1E3,JY2JD:365.25,JD2SEC:86400,MSOL2KG:1.98855E30,DEG2RAD:C/360},L;for(L in A)R=L.split("2",2).reverse().join("2"),A[R]=1/A[L];A.exportConstants=function(k){for(var u in A)k[u]=A[u]};A.DMS2RAD=function(k,u,D){return(0>k?-1:1)*(Math.abs(k)+(u/60+D/60/60))*DEG2RAD};A.HMS2RAD=function(k,u,D){return 15*DMS2RAD(k,u,D)};A.PI=F;A.TAU=C;A.JD2000=2451545;var W=A.GMJD=
{sun:2.959122083684144E-4,mer:4.912547451450812E-11,ven:7.243452486162703E-10,ear:8.997011603631609E-10,emb:8.997011603631609E-10,mar:9.549535105779258E-11,jup:2.825345842083778E-7,sat:8.459715185680659E-8,ura:1.2920249167819694E-8,nep:1.5243589007842763E-8,plu:2.1886997654259697E-12,moon:1.0936508975881017E-11};R=A.GMJY={};for(L in W)R[L]=W[L],R[L]*=133407.5625;A.CYCLE=function(k){k%=C;0>k&&(k+=C);return k};A.TURN=function(k){k%=C;k>F&&(k-=C);return k};A.JDtoJY2K=function(k){return(k-2451545)/365.25};
A.JY2KtoJD=function(k){return 365.25*k+2451545};A.exportConstants(this);Math.cbrt=Math.cbrt||function(k){var u=Math.pow(Math.abs(k),1/3);return 0>k?-u:u};Math.fmod=Math.fmod||function(k,u){return k%u};if("undefined"!=typeof THREE){var M=this.Vector3=THREE.Vector3;this.Matrix3=THREE.Matrix3;this.Matrix4=THREE.Matrix4;this.Quaternion=THREE.Quaternion}"use strict";(function(k){function u(a){return Math.acos(Math.min(1,Math.max(-1,a)))}function D(a){if(a.empty)return this;"G"in a&&console.warn("G has been renamed to GM");
this._GM=a.GM||a.G||D.GMP.sun;this._t=a.epoch||a.t||0;this.translate=a.translate||null;"x"in a&&"y"in a&&"z"in a?this._r=new M(a.x,a.y,a.z):"rx"in a&&"ry"in a&&"rz"in a&&(this._r=new M(a.rx,a.ry,a.rz));"X"in a&&"Y"in a&&"Z"in a?this._v=new M(a.X,a.Y,a.Z):"vx"in a&&"vy"in a&&"vz"in a&&(this._v=new M(a.vx,a.vy,a.vz));if("r"in a&&"v"in a){var d=a.r,g=a.v;this._r=new M(d.x,d.y,d.z);this._v=new M(g.x,g.y,g.z)}this.vectors=!(!this._r||!this._v);d="aeiMnPLcCwWOkhqpG".split("");for(var h in d)a.hasOwnProperty(d[h])&&
(this["_"+d[h]]=a[d[h]]);this._PW=a.PW||0;this._PO=a.PO||0;"name"in a&&(this.name=a.name);this.lazy||(this.updateElements(),this.requireElements())}var N=Math.abs,G=Math.pow,p=Math.sin,x=Math.cos,v=Math.sqrt,S=Math.cbrt,H=Math.atan2;D.GMP=W;var b=D.prototype;b.clone=function(a){var d=this._t||0;d=null==a?0:a-d;var g=new D({empty:!0});d&&(delete this._v,delete this._r);for(var h in this)this.hasOwnProperty(h)&&(g[h]=this[h]&&"function"==typeof this[h].clone?this[h].clone():this[h]);d&&g._update(a);
return g};b.checkElements=function(a){if(!this.elements)throw"Orbitals not calculated";if(!("_i"in this))throw"Orbit is missing inclination (i)";if(!("_e"in this))throw"Orbit is missing eccentricity (e)";if(!("_a"in this))throw"Orbit is missing semi-major axis (a)";if(!("_b"in this))throw"Orbit is missing semi-minor axis (b)";if(!("_l"in this))throw"Orbit is missing semi-latus rectum (l)";if(!("_c"in this))throw"Orbit is missing periapsis (c)";if(!("_C"in this))throw"Orbit is missing apoapsis (C)";
if(!("_L"in this))throw"Orbit is missing mean longitude (L)";if(!("_O"in this))throw"Orbit is missing right ascending node (O)";if(!("_T"in this))throw"Orbit is missing time of periapsis (w)";if(!("_t"in this))throw"Orbit is missing time of reference epoch (t)";if(!("_w"in this))throw"Orbit is missing argument of periapsis (w)";if(!("_W"in this))throw"Orbit is missing longitude of the periapsis (W)";if(!("_n"in this))throw"Orbit is missing mean motion (n)";if(!("_M"in this))throw"Orbit is missing mean anomaly (M)";
if(!("_P"in this))throw"Orbit is missing orbital period (P)";if(!("_A"in this))throw"Orbit is missing angular momentum (A)";if(!("_c"in this))throw"Orbit is missing pericenter (c)";if(!("_C"in this))throw"Orbit is missing apocenter (C)";if(0>this._e)throw"Negative eccentricity is invalid";if(1<this._e)throw"Eccentricity must not be hyperbolic (> 1)";if(1==this._e)throw"Eccentricity must not be parabolic (== 1)";if(a&&!("_m"in this))throw"Orbit is missing true anomaly (m)";if(a&&!("_B"in this))throw"Orbit is missing radial velocity (B)";
if(a&&!("_E"in this))throw"Orbit is missing eccentric anomaly (E)";};b.requireElements=function(a){this.updateElements(a);this.checkElements(a);return this};b.updateElements=function(a){if(this.elements)return this;this.elements=!0;if("_r"in this&&"_v"in this){var d=this._r,g=this._v,h=this._GM,r=d.length();this._A3=d.clone().cross(g);this._A2=this._A3.lengthSq();this._A=v(this._A2);this._B=d.dot(g)/r;var w=this._e3=d.clone().multiplyScalar(g.lengthSq()-h/r).sub(g.clone().multiplyScalar(r*this._B)).multiplyScalar(1/
h);g=w.lengthSq();g=this._e=v(g);this._i=u(this._A3.z/this._A);this._l=this._A2/h;this._c=this._l/(1+g);this._C=this._l/(1-g);this._a=(this._C+this._c)/2;h=-this._A3.y;var y=+this._A3.x,B=v(h*h+y*y),z=0==B?0:u(h/B);this._O=0>y?C-z:z;z=h*w.x+y*w.y;this._w=0===B||0===g?0:u(z/B/g);0>w.z&&(this._w*=-1);d=0===g&&0===B?u(d.x/r):0===g?u((h*d.x+y*d.y)/(B*r)):u((w.x*d.x+w.y*d.y+w.z*d.z)/g/r);d=this._m=0>this._B?C-d:d;if(1>g){var l=this._E=CYCLE(H(v(1-g*g)*p(d),g+x(d)));this._M=l-g*p(l)}else 1<g&&(l=this._E=
CYCLE(H(v(1-g*g)*p(d),g+x(d))),this._M=l-g*p(l));this._M=l-g*p(l)}"_k"in this&&"_h"in this&&(this._W=H(this._h,this._k),this._e=this._h/p(this._W));"_q"in this&&"_p"in this&&(this._O=H(this._p,this._q),l=this._p-this._q,d=-v(2)*p(F/4-this._O),this._i=2*Math.asin(Math.min(1,Math.max(-1,l/d))));"_n"in this&&!("_a"in this)&&(this._a=S(this._GM/this._n/this._n));"_P"in this&&!("_a"in this)&&(l=this._P/C,this._a=S(this._GM*l*l));"_a"in this||("_c"in this&&"_C"in this?this._a=(this._C+this._c)/2:"_e"in
this&&"_C"in this?this._a=this._C/(1+this._e):"_c"in this&&"_e"in this&&(this._a=this._c/(1-this._e)));"_e"in this||("_c"in this&&"_C"in this?this._e=1-this._c/this._a:"_a"in this&&"_C"in this?this._e=this._C/this._a-1:"_c"in this&&"_a"in this&&(this._e=1-this._c/this._a));"_e"in this?(l=1-this._e*this._e,"_a"in this?(this._l=this._a*l,this._b=v(this._a*this._l)):"_b"in this?(this._a=this._b/v(l),this._l=this._a*l):"_l"in this&&(this._a=this._l/l,this._b=v(this._a*this._l))):"_a"in this?"_b"in this?
(this._l=this._b*this._b/this._a,this._e=v(1-this._l/this._a)):"_l"in this&&(this._e=v(1-this._l/this._a),this._b=v(this._a*this._l)):"_b"in this&&"_l"in this&&(this.a=this._b*this._b/this._l,this._e=v(1-this._l/this._a));"_a"in this&&!("_P"in this)&&(this._P=C/v(this._GM)*G(this._a,1.5));"_P"in this&&!("_n"in this)&&(this._n=C/this._P);"_P"in this&&!("_A"in this)&&"_a"in this&&"_b"in this&&(this._A=C*this._a*this._b/this._P);"_a"in this&&"_e"in this&&("_c"in this||(this._c=this._a*(1-this._e)),"_C"in
this||(this._C=this._a*(1+this._e)));if("_L"in this)if("_M"in this)this._W=this._L-this._M,"_O"in this?this._w=this._W-this._O:"_w"in this&&(this._O=this._W-this._w);else if("_W"in this)this._M=this._L-this._W,"_O"in this?this._w=this._W-this._O:"_w"in this&&(this._O=this._W-this._w);else if("_O"in this&&"_w"in this)this._W=this._O+this._w,this._M=this._L-this._W;else throw"Orbit incomplete";else if("_O"in this)if("_w"in this)this._W=this._O+this._w,"_M"in this&&(this._L=this._M+this._W);else if("_W"in
this)this._w=this._W-this._O,"_M"in this&&(this._L=this._M+this._W);else throw"Orbit incomplete";else"_M"in this&&"_w"in this&&"_W"in this&&(this._L=this._W+this._M,this._O=this._W-this._w);a&&this.m();"_W"in this&&(this._W=TURN(this._W));"_L"in this&&(this._L=CYCLE(this._L));"_M"in this&&(this._M=CYCLE(this._M));"_O"in this&&(this._O=CYCLE(this._O));"_w"in this&&(this._w=TURN(this._w));"_M"in this&&(this._T=-this._M/this._n);return this};b.E=function(a){var d=this._t||0;a=null==a?0:a-d;if("_E"in
this&&!a)return this._E;d=this._e;var g=this._m,h=this._M;if(!a&&null!=d&&null!=g)return this._E=CYCLE(H(v(1-d*d)*p(g),d+x(g)));if(null!=d&&null!=h){a&&(h+=CYCLE(this._n*a));g=.8>d?h:F;var r=1;for(var w=0;1E-12<N(r)&&12>w;++w){r=h-g+d*p(g);var y=d*x(g)-1;r/=y;g-=r}g=CYCLE(g);a||(this._E=g);return g}throw"Invalid orbital state";};b.m=function(a){if(0===arguments.length){if("_m"in this)return this._m;var d=this.E()/2;return this._m=CYCLE(2*H(v(1+this._e)*p(d),v(1-this._e)*x(d)))}return CYCLE(2*H(v(1+
this._e)*p(a/2),v(1-this._e)*x(a/2)))};b.B=function(){if("_B"in this)return this._B;var a=this.r(),d=this.v();return this._B=a.dot(d)/a.length()};b.e3=function(){if("_e3"in this)return this._e3;var a=this.r(),d=this.v();if(null!==a&&null!==d)return this._e3=a.clone().multiplyScalar(d.lengthSq()-this._GM/a.length()).sub(d.clone().multiplyScalar(a.length()*this.B())).multiplyScalar(1/this._GM)};b.i=function(){return this._i};b.e=function(){return this._e};b.a=function(){return this._a};b.b=function(){return this._b};
b.l=function(){return this._l};b.C=function(){return this._C};b.c=function(){return this._c};b.L=function(){return this._L};b.O=function(){return this._O};b.w=function(){return this._w};b.T=function(){return this._T};b.W=function(){return this._W};b.n=function(){return this._n};b.A=function(){return this._A};b.M=function(){return this._M};b.P=function(){return this._P};b.GM=function(){return this._GM};b.PW=function(){return this._PW};b.PO=function(){return this._PO};b.epoch=function(){return this._t};
b.q=function(){return"_q"in this?this._q:this._q=x(this._O)*p(this._i/2)};b.p=function(){return"_p"in this?this._p:this._p=p(this._O)*p(this._i/2)};b.k=function(){return"_k"in this?this._k:this._k=this._e*x(this._W)};b.h=function(){return"_h"in this?this._h:this._h=this._e*p(this._W)};b._update=function(a){var d=this._t||0;a=null==a?0:a-d;this.elements||this.resolveElements(!0);this._M=CYCLE(this._n*(a-this._T));this._L=CYCLE(this._M+this._W);this._PW&&(this._w=a/this._PW*C);this._PO&&(this._O+=a/
this._PO*C);this._t=a+d;delete this._E;delete this._m;delete this._r;delete this._v;return this};b.state=function(a){var d=this._t||0,g=null==a?0:a-d;this.elements||this.resolveElements(!0);if(!g&&"_r"in this&&"_v"in this)return{r:this._r,v:this._v,epoch:d,orbit:this,GM:this._GM};var h=this._e,r=this._a,w=this._i,y=this._O,B=this._w,z=this.E(a);a=this.m(z);this._PW&&(B+=g/this._PW*C);this._PO&&(y+=g/this._PO*C);var l=r*(1-h*x(z)),E=v(this._GM*r)/l;r=l*x(a);l*=p(a);a=E*-p(z);h=E*v(1-h*h)*x(z);z=p(y);
var J=x(y);y=p(w);var O=x(w);E=p(B);var Q=x(B),T=Q*J,P=Q*z;w=E*O;B=T-w*z;w=P+w*J;J=P*O+E*J;z=T*O-E*z;E*=y;y*=Q;l=new M(r*B-l*J,r*w+l*z,r*E+l*y);r=new M(a*B-h*J,a*w+h*z,a*E+h*y);g||(this._r=l,this._v=r);return{r:l,v:r,epoch:d,orbit:this,GM:this._GM}};b.r=function(a){return this.state(a).r};b.v=function(a){return this.state(a).v};b.inclination=b.i;b.eccentricity=b.e;b.semiMajorAxis=b.a;b.semiMinorAxis=b.b;b.semilatusRectum=b.l;b.meanLongitude=b.L;b.ascendingNode=b.O;b.argOfPericenter=b.w;b.argOfPeriapsis=
b.w;b.timeOfPericenter=b.T;b.longitudeOfPericenter=b.W;b.meanMotion=b.n;b.meanAnomaly=b.M;b.orbitalPeriod=b.P;b.angularMomentum=b.A;b.gravitationalParameter=b.GM;b.apsidalPrecession=b.PW;b.nodalPrecession=b.PO;b.trueAnomaly=b.m;b.radialVelocity=b.B;b.eccentricAnomaly=b.E;b.apoapsis=b.C;b.aphelion=b.C;b.apocenter=b.C;b.periapsis=b.c;b.perhelion=b.c;b.pericenter=b.c;b.position=b.r;b.velocity=b.v;k.Orbit=k.Orbital=D})(this);"use strict";(function(k){function u(e){e=JD2toJDE(e);for(var f=JDtoJY2K(e)/
100,m=f*f,t=m*f,K=v+S*f+H*m+b*t,U=a+d*f+g*m+h*t,ba=r+w*f+y*m+B*t,ca=z+l*f+E*m+J*t,da=O+Q*f+T*m+P*t,X=e=0,Z,aa,Y,I=0;I<x.length;I++)Z=x[I][0]+x[I][1]*f,aa=x[I][2]+x[I][3]*f,Y=p[I][0]*K+p[I][1]*U+p[I][2]*ba+p[I][3]*ca+p[I][4]*da,e+=Z*Math.sin(Y),X+=aa*Math.cos(Y);f=(23+26/60+21.448/3600-46.815/3600*f-5.9E-4/3600*m+.001813/3600*t)*DEG2RAD;e/=36E6/DEG2RAD;X/=36E6/DEG2RAD;return{longitude:TURN(e),obliquity:TURN(X),ecliptic:CYCLE(f)}}function D(e){if(2067314.5>e)return e=(e-2067314.5)/36525,1830-405*e+
46.5*e*e;if(2067314.5<=e&&2305447.5>e)return e=(e-2396758.5)/36525,22.5*e*e;if(2312752.5<=e&&2448622.5>e){var f=Math.floor((e-2312752.5)/730.5);f>G.length-2&&(f=G.length-2);var m=G[f+1]-G[f],t=G[f+2]-G[f+1];e=(e-(2312752.5+730.5*f))/730.5;return G[f+1]+e/2*(m+t+e*(m-t))}if(2448622.5<=e&&2455197.5>=e)return f=[56.86,63.83,70],m=f[1]-f[0],t=f[2]-f[1],e=(e-2451544.5)/3652.5,f[1]+e/2*(m+t+e*(t-m));e-=2382148;return-15+e*e/41048480}function N(e){var f=JDtoJY2K(e)/100;return CYCLE(V+c*(e-2451545)+q*f*f+
n*f*f*f)}var G=[124,115,106,98,91,85,79,74,70,65,62,58,55,53,50,48,46,44,42,40,37,35,33,31,28,26,24,22,20,18,16,14,13,12,11,10,9,9,9,9,9,9,9,9,10,10,10,10,10,11,11,11,11,11,11,11,12,12,12,12,12,12,13,13,13,13,14,14,14,15,15,15,15,16,16,16,16,16,17,17,17,17,17,17,17,17,16,16,15,14,13.7,13.1,12.7,12.5,12.5,12.5,12.5,12.5,12.5,12.3,12,11.4,10.6,9.6,8.6,7.5,6.6,6,5.7,5.6,5.7,5.9,6.2,6.5,6.8,7.1,7.3,7.5,7.7,7.8,7.9,7.5,6.4,5.4,2.9,1.6,-1,-2.7,-3.6,-4.7,-5.4,-5.2,-5.5,-5.6,-5.8,-5.9,-6.2,-6.4,-6.1,-4.7,
-2.7,0,2.6,5.4,7.7,10.5,13.4,16,18.2,20.2,21.2,22.4,23.5,23.9,24.3,24,23.9,23.9,23.7,24,24.3,25.3,26.2,27.3,28.2,29.1,30,30.7,31.4,32.2,33.1,34,35,36.5,38.3,40.2,42.2,44.5,46.5,48.5,50.5,52.2,53.8,54.9,55.8,56.9,58.3],p=[[0,0,0,0,1],[-2,0,0,2,2],[0,0,0,2,2],[0,0,0,0,2],[0,1,0,0,0],[0,0,1,0,0],[-2,1,0,2,2],[0,0,0,2,1],[0,0,1,2,2],[-2,-1,0,2,2],[-2,0,1,0,0],[-2,0,0,2,1],[0,0,-1,2,2],[2,0,0,0,0],[0,0,1,0,1],[2,0,-1,2,2],[0,0,-1,0,1],[0,0,1,2,1],[-2,0,2,0,0],[0,0,-2,2,1],[2,0,0,2,2],[0,0,2,2,2],[0,0,
2,0,0],[-2,0,1,2,2],[0,0,0,2,0],[-2,0,0,2,0],[0,0,-1,2,1],[0,2,0,0,0],[2,0,-1,0,1],[-2,2,0,2,2],[0,1,0,0,1],[-2,0,1,0,1],[0,-1,0,0,1],[0,0,2,-2,0],[2,0,-1,2,1],[2,0,1,2,2],[0,1,0,2,2],[-2,1,1,0,0],[0,-1,0,2,2],[2,0,0,2,1],[2,0,1,0,0],[-2,0,2,2,2],[-2,0,1,2,1],[2,0,-2,0,1],[2,0,0,0,1],[0,-1,1,0,0],[-2,-1,0,2,1],[-2,0,0,0,1],[0,0,2,2,1],[-2,0,2,0,1],[-2,1,0,2,1],[0,0,1,-2,0],[-1,0,1,0,0],[-2,1,0,0,0],[1,0,0,0,0],[0,0,1,2,0],[0,0,-2,2,2],[-1,-1,1,0,0],[0,1,1,0,0],[0,-1,1,2,2],[2,-1,-1,2,2],[0,0,3,2,
2],[2,-1,0,2,2]],x=[[-171996,-174.2,92025,8.9],[-13187,-1.6,5736,-3.1],[-2274,-.2,977,-.5],[2062,.2,-895,.5],[1426,-3.4,54,-.1],[712,.1,-7,0],[-517,1.2,224,-.6],[-386,-.4,200,0],[-301,0,129,-.1],[217,-.5,-95,.3],[-158,0,0,0],[129,.1,-70,0],[123,0,-53,0],[63,0,0,0],[63,.1,-33,0],[-59,0,26,0],[-58,-.1,32,0],[-51,0,27,0],[48,0,0,0],[46,0,-24,0],[-38,0,16,0],[-31,0,13,0],[29,0,0,0],[29,0,-12,0],[26,0,0,0],[-22,0,0,0],[21,0,-10,0],[17,-.1,0,0],[16,0,-8,0],[-16,.1,7,0],[-15,0,9,0],[-13,0,7,0],[-12,0,6,
0],[11,0,0,0],[-10,0,5,0],[-8,0,3,0],[7,0,-3,0],[-7,0,0,0],[-7,0,3,0],[-7,0,3,0],[6,0,0,0],[6,0,-3,0],[6,0,-3,0],[-6,0,3,0],[-6,0,3,0],[5,0,0,0],[-5,0,3,0],[-5,0,3,0],[-5,0,3,0],[4,0,0,0],[4,0,0,0],[4,0,0,0],[-4,0,0,0],[-4,0,0,0],[-4,0,0,0],[3,0,0,0],[-3,0,0,0],[-3,0,0,0],[-3,0,0,0],[-3,0,0,0],[-3,0,0,0],[-3,0,0,0],[-3,0,0,0]],v=297.85036*DEG2RAD,S=445267.11148*DEG2RAD,H=-.0019142*DEG2RAD,b=DEG2RAD/189474,a=357.52772*DEG2RAD,d=35999.05034*DEG2RAD,g=-.0086972*DEG2RAD,h=-DEG2RAD/3E5,r=134.96298*DEG2RAD,
w=477198.867398*DEG2RAD,y=.0086972*DEG2RAD,B=DEG2RAD/56250,z=93.27191*DEG2RAD,l=483202.017538*DEG2RAD,E=-.0036825*DEG2RAD,J=DEG2RAD/327270,O=125.04452*DEG2RAD,Q=-1934.136261*DEG2RAD,T=.0020708*DEG2RAD,P=DEG2RAD/45E4,V=280.46061837*DEG2RAD,c=360.98564736629*DEG2RAD,q=3.87933E-4*DEG2RAD,n=-DEG2RAD/3871E4;k.JDtoJDE=function(e){return e+D(e)/JD2SEC};k.JDEtoJD=function(e){return e-D(e)/JD2SEC};k.getMeanSiderealTime=N;k.getApparentSiderealTime=function(e){var f=u(e);return N(e)+f.longitude/1*Math.cos(f.obliquity)};
k.getNutation=u})(this);"use strict";(function(k){function u(){return{p:this.p,l:this.l,z:this.z}}function D(){return{x:this.x,y:this.y,z:this.z}}function N(){return{l:this.l,b:this.b,i:this.i,r:this.r}}function G(){this.r=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z);this.i=Math.acos(this.z/this.r);this.b=F/2-this.i;this.l=Math.atan2(this.y,this.x);return(this.sph=N).call(this)}function p(){var c=this.r*Math.sin(this.i);this.x=c*Math.cos(this.l);this.y=c*Math.sin(this.l);this.z=this.r*Math.cos(this.i);
return(this.cart=D).call(this)}function x(){this.p=Math.sqrt(this.x*this.x+this.y*this.y);this.l=Math.atan2(this.y,this.x);return(this.cyl=u).call(this)}function v(){this.x=this.p*Math.cos(this.l);this.y=this.p*Math.sin(this.l);return(this.cart=D).call(this)}function S(){this.i=Math.atan2(this.p,this.z);this.b=F/2-this.i;this.r=Math.sqrt(this.p*this.p+this.z*this.z);return(this.sph=N).call(this)}function H(){this.p=this.r*Math.cos(this.b);this.z=this.r*Math.sin(this.b);return(this.cyl=u).call(this)}
function b(c){"ra"in c&&(c.l=c.ra);"dec"in c&&(c.b=c.dec);"dist"in c&&(c.r=c.dist);"x"in c&&"y"in c&&"z"in c?(this.x=c.x,this.y=c.y,this.z=c.z,this.cart=D,this.sph=G,this.cyl=x):"p"in c&&"l"in c&&"z"in c?(this.p=c.p,this.l=c.l,this.z=c.z,this.cart=v,this.sph=S,this.cyl=u):"l"in c&&(this.l=c.l,this.r=c.r||1,"i"in c||"b"in c)&&(this.cart=p,this.sph=N,this.cyl=H,"b"in c?(this.b=c.b,this.i=F/2-this.b):"i"in c&&(this.i=c.i,this.b=F/2-this.i))}b.prototype.ecl2equ=function(c){var q=this.cart(),n=Math.sin(c);
c=Math.cos(c);return new b({x:q.x,y:q.y*c-q.z*n,z:q.z*c+q.y*n})};b.prototype.equ2ecl=function(c){var q=this.cart(),n=Math.sin(c);c=Math.cos(c);return new b({x:q.x,y:q.y*c+q.z*n,z:q.z*c-q.y*n})};var a=32.932*DEG2RAD,d=192.859508*DEG2RAD,g=27.128336*DEG2RAD;b.prototype.gal2equ=function(){var c=this.sph(),q=c.l,n=c.b;c=Math.sin(n);n=Math.cos(n);var e=Math.sin(g),f=Math.cos(g),m=n*Math.sin(q-a),t=Math.asin(c*e+m*f);return{l:CYCLE(Math.atan2(n*Math.cos(q-a),c*f-m*e)+d),b:TURN(t)}};b.prototype.equ2gal=
function(){var c=this.sph(),q=c.l,n=c.b;c=Math.sin(n);n=Math.cos(n);var e=Math.sin(g),f=Math.cos(g),m=Math.cos(d-q),t=Math.asin(c*e+n*f*m);return{l:CYCLE(a-Math.atan2(Math.sin(d-q),m*e-c/n*f)-F/2),b:TURN(t)}};var h=2306.2181*DEG2RAD,r=1.39656*DEG2RAD,w=1.39E-4*DEG2RAD,y=.30188*DEG2RAD,B=3.44E-4*DEG2RAD,z=.017998*DEG2RAD,l=1.09468*DEG2RAD,E=6.6E-5*DEG2RAD,J=.018203*DEG2RAD,O=2004.3109*DEG2RAD,Q=.8533*DEG2RAD,T=.42665*DEG2RAD,P=2.17E-4*DEG2RAD,V=.041833*DEG2RAD;b.prototype.precess=function(c,q){var n=
this.l,e=this.b;var f=(c-q)/36E4;var m=f*f,t=m*f;if(f){var K=q/36E4;var U=K*K;q=(h+r*K-w*U)*f+(l+E*K)*m+J*t;c=(h+r*K-w*U)*f+(y-B*K)*m+z*t;f=(O-Q*K-P*U)*f-(T+P*K)*m-V*t}else q=h*f+l*m+V*t,c=h*f+y*m+z*t,f=O*f-P*m-V*t;t=Math.cos(e);m=t*Math.cos(n+c);n=t*Math.sin(n+c);c=Math.cos(f)*m-Math.sin(f)*Math.sin(e);f=Math.sin(f)*m+Math.cos(f)*Math.sin(e);q=Math.atan2(n,c)+q;e>.4*F||e<-.4*F?(n=Math.acos(Math.sqrt(n*n+c*c)),0>e&&(n*=-1)):n=Math.asin(f);e={l:CYCLE(q),b:TURN(n)};"r"in this&&(e.r=this.r);return e};
k.Coord=b})(this)}).call(this,this);

/* crc: 9037CC4971D4F9D7555898F30E732A50 */
