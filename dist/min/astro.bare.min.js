/* autogenerated by webmerge (compile context) */
;
/*
Astronomical Calculations (https://github.com/mgreter/astro.js)
- Copyright (c) 2017 Marcel Greter (http://github.com/mgreter)
*/;
/* Include three.js (Vector3) before */;
(function(r){var n=1*Math.PI,l=2*Math.PI,g=this.AstroJS={AU2M:149597870700,AU2KM:1.495978707E8,PC2M:30856776E9,PC2AU:206265,PC2LY:3.26156,KM2M:1E3,JY2JD:365.25,JD2SEC:86400,MSOL2KG:1.98855E30,DEG2RAD:l/360},t;for(t in g)r=t.split("2",2).reverse().join("2"),g[r]=1/g[t];g.exportConstants=function(d){for(var f in g)d[f]=g[f]};g.DMS2RAD=function(d,f,a){return(0>d?-1:1)*(Math.abs(d)+(f/60+a/60/60))*DEG2RAD};g.HMS2RAD=function(d,f,a){return 15*DMS2RAD(d,f,a)};g.PI=n;g.TAU=l;g.JD2000=2451545;var z=g.GMJD=
{sun:2.959122083684144E-4,mer:4.912547451450812E-11,ven:7.243452486162703E-10,ear:8.997011603631609E-10,emb:8.997011603631609E-10,mar:9.549535105779258E-11,jup:2.825345842083778E-7,sat:8.459715185680659E-8,ura:1.2920249167819694E-8,nep:1.5243589007842763E-8,plu:2.1886997654259697E-12};r=g.GMJY={};for(t in z)r[t]=z[t],r[t]*=133407.5625;g.CYCLE=function(d){d%=l;0>d&&(d+=l);return d};g.TURN=function(d){d%=l;d>n&&(d-=l);return d};g.JD2J2K=function(d){return(d-2451545)/365.25};g.J2K2JD=function(d){return 365.25*
d+2451545};g.exportConstants(this);Math.cbrt=Math.cbrt||function(d){var f=Math.pow(Math.abs(d),1/3);return 0>d?-f:f};Math.fmod=Math.fmod||function(d,f){return d%f};if("undefined"!=typeof THREE){var u=this.Vector3=THREE.Vector3;this.Matrix3=THREE.Matrix3;this.Matrix4=THREE.Matrix4;this.Quaternion=THREE.Quaternion}"use strict";(function(d){function f(a){if(a.empty)return this;this._G=a.G||f.GMP.sun;this._t=a.epoch||a.t||0;this.translate=a.translate||null;"x"in a&&"y"in a&&"z"in a?this._r=new u(a.x,
a.y,a.z):"rx"in a&&"ry"in a&&"rz"in a&&(this._r=new u(a.rx,a.ry,a.rz));"X"in a&&"Y"in a&&"Z"in a?this._v=new u(a.X,a.Y,a.Z):"vx"in a&&"vy"in a&&"vz"in a&&(this._v=new u(a.vx,a.vy,a.vz));if("r"in a&&"v"in a){var e=a.r,b=a.v;this._r=new u(e.x,e.y,e.z);this._v=new u(b.x,b.y,b.z)}this.vectors=!(!this._r||!this._v);e="aeiMnPLcCwWOkhqpG".split("");for(var h in e)a.hasOwnProperty(e[h])&&(this["_"+e[h]]=a[e[h]]);"name"in a&&(this.name=a.name);this.lazy||(this.updateElements(),this.requireElements())}f.GMP=
z;var a=f.prototype;a.clone=function(a){var e=new f({empty:!0});a&&(delete this._v,delete this._r);for(var b in this)this.hasOwnProperty(b)&&(e[b]=this[b]&&"function"==typeof this[b].clone?this[b].clone():this[b]);a&&e.update(a);return e};a.checkElements=function(a){if(!this.elements)throw"Orbitals not calculated";if(!("_i"in this))throw"Orbit is missing inclination (i)";if(!("_e"in this))throw"Orbit is missing eccentricity (e)";if(!("_a"in this))throw"Orbit is missing semi-major axis (a)";if(!("_b"in
this))throw"Orbit is missing semi-minor axis (b)";if(!("_l"in this))throw"Orbit is missing semi-latus rectum (l)";if(!("_c"in this))throw"Orbit is missing periapsis (c)";if(!("_C"in this))throw"Orbit is missing apoapsis (C)";if(!("_L"in this))throw"Orbit is missing mean longitude (L)";if(!("_O"in this))throw"Orbit is missing right ascending node (O)";if(!("_T"in this))throw"Orbit is missing time of periapsis (w)";if(!("_t"in this))throw"Orbit is missing time of reference epoch (t)";if(!("_w"in this))throw"Orbit is missing argument of periapsis (w)";
if(!("_W"in this))throw"Orbit is missing longitude of the periapsis (W)";if(!("_n"in this))throw"Orbit is missing mean motion (n)";if(!("_M"in this))throw"Orbit is missing mean anomaly (M)";if(!("_P"in this))throw"Orbit is missing orbital period (P)";if(!("_A"in this))throw"Orbit is missing angular momentum (A)";if(!("_c"in this))throw"Orbit is missing pericenter (c)";if(!("_C"in this))throw"Orbit is missing apocenter (C)";if(0>this._e)throw"Negative eccentricity is invalid";if(1<this._e)throw"Eccentricity must not be hyperbolic (> 1)";
if(1==this._e)throw"Eccentricity must not be parabolic (== 1)";if(a&&!("_m"in this))throw"Orbit is missing true anomaly (m)";if(a&&!("_B"in this))throw"Orbit is missing radial velocity (B)";if(a&&!("_E"in this))throw"Orbit is missing eccentric anomaly (E)";};a.requireElements=function(a){this.updateElements(a);this.checkElements(a);return this};a.updateElements=function(a){if(this.elements)return this;this.elements=!0;if("_r"in this&&"_v"in this){var e=this._r,b=this._v,h=this._G,d=e.length();this._A3=
e.clone().cross(b);this._A2=this._A3.lengthSq();this._A=Math.sqrt(this._A2);this._B=e.dot(b)/d;var v=this._e3=e.clone().multiplyScalar(b.lengthSq()-h/d).sub(b.clone().multiplyScalar(d*this._B)).multiplyScalar(1/h);b=v.lengthSq();b=this._e=Math.sqrt(b);this._i=Math.acos(this._A3.z/this._A);this._l=this._A2/h;this._c=this._l/(1+b);this._C=this._l/(1-b);this._a=(this._C+this._c)/2;h=-this._A3.y;var f=+this._A3.x,m=Math.sqrt(h*h+f*f),g=0==m?0:Math.acos(h/m);this._O=0>f?l-g:g;g=h*v.x+f*v.y;this._w=0===
m||0===b?0:Math.acos(g/m/b);0>v.z&&(this._w*=-1);e=0===b&&0===m?Math.acos(e.x/d):0===b?Math.acos((h*e.x+f*e.y)/(m*d)):Math.acos((v.x*e.x+v.y*e.y+v.z*e.z)/b/d);e=this._m=0>this._B?l-e:e;if(1>b){var k=this._E=CYCLE(Math.atan2(Math.sqrt(1-b*b)*Math.sin(e),b+Math.cos(e)));this._M=k-b*Math.sin(k)}else 1<b&&(k=this._E=CYCLE(Math.atan2(Math.sqrt(1-b*b)*Math.sin(e),b+Math.cos(e))),this._M=k-b*Math.sin(k));this._M=k-b*Math.sin(k)}"_k"in this&&"_h"in this&&(this._W=Math.atan2(this._h,this._k),this._e=this._h/
Math.sin(this._W));"_q"in this&&"_p"in this&&(this._O=Math.atan2(this._p,this._q),this._i=2*Math.asin((this._p-this._q)/(-Math.sqrt(2)*Math.sin(n/4-this._O))));"_n"in this&&!("_a"in this)&&(this._a=Math.cbrt(this._G/this._n/this._n));"_P"in this&&!("_a"in this)&&(k=this._P/l,this._a=Math.cbrt(this._G*k*k));"_a"in this||("_c"in this&&"_C"in this?this._a=(this._C+this._c)/2:"_e"in this&&"_C"in this?this._a=this._C/(1+this._e):"_c"in this&&"_e"in this&&(this._a=this._c/(1-this._e)));"_e"in this||("_c"in
this&&"_C"in this?this._e=1-this._c/this._a:"_a"in this&&"_C"in this?this._e=this._C/this._a-1:"_c"in this&&"_a"in this&&(this._e=1-this._c/this._a));"_e"in this?(k=1-this._e*this._e,"_a"in this?(this._l=this._a*k,this._b=Math.sqrt(this._a*this._l)):"_b"in this?(this._a=this._b/Math.sqrt(k),this._l=this._a*k):"_l"in this&&(this._a=this._l/k,this._b=Math.sqrt(this._a*this._l))):"_a"in this?"_b"in this?(this._l=this._b*this._b/this._a,this._e=Math.sqrt(1-this._l/this._a)):"_l"in this&&(this._e=Math.sqrt(1-
this._l/this._a),this._b=Math.sqrt(this._a*this._l)):"_b"in this&&"_l"in this&&(this.a=this._b*this._b/this._l,this._e=Math.sqrt(1-this._l/this._a));"_a"in this&&!("_P"in this)&&(this._P=l/Math.sqrt(this._G)*Math.pow(this._a,1.5));"_P"in this&&!("_n"in this)&&(this._n=l/this._P);"_P"in this&&!("_A"in this)&&"_a"in this&&"_b"in this&&(this._A=l*this._a*this._b/this._P);"_a"in this&&"_e"in this&&("_c"in this||(this._c=this._a*(1-this._e)),"_C"in this||(this._C=this._a*(1+this._e)));if("_L"in this)if("_M"in
this)this._W=this._L-this._M,"_O"in this?this._w=this._W-this._O:"_w"in this&&(this._O=this._W-this._w);else if("_W"in this)this._M=this._L-this._W,"_O"in this?this._w=this._W-this._O:"_w"in this&&(this._O=this._W-this._w);else if("_O"in this&&"_w"in this)this._W=this._O+this._w,this._M=this._L-this._W;else throw"Orbit incomplete";else if("_O"in this)if("_w"in this)this._W=this._O+this._w,"_M"in this&&(this._L=this._M+this._W);else if("_W"in this)this._w=this._W-this._O,"_M"in this&&(this._L=this._M+
this._W);else throw"Orbit incomplete";else"_M"in this&&"_w"in this&&"_W"in this&&(this._L=this._W+this._M,this._O=this._W-this._w);a&&this.m();"_W"in this&&(this._W=TURN(this._W));"_L"in this&&(this._L=CYCLE(this._L));"_M"in this&&(this._M=CYCLE(this._M));"_O"in this&&(this._O=CYCLE(this._O));"_w"in this&&(this._w=TURN(this._w));"_M"in this&&(this._T=-this._M/this._n);return this};a.E=function(a){var e=this._t||0;if("_E"in this&&!a)return this._E;var b=this._e,h=this._m,d=this._M;if(!a&&null!=b&&
null!=h)return this._E=CYCLE(Math.atan2(Math.sqrt(1-b*b)*Math.sin(h),b+Math.cos(h)));if(null!=b&&null!=d){a&&(d=CYCLE(this._n*(a-this._T-e)));e=.8>b?d:n;var f=1;for(h=0;1E-12<Math.abs(f)&&12>h;++h){f=d-e+b*Math.sin(e);var g=b*Math.cos(e)-1;f/=g;e-=f}e=CYCLE(e);a||(this._E=e);return e}throw"Invalid orbital state";};a.m=function(a){if(0===arguments.length){if("_m"in this)return this._m;var e=this.E()/2;return this._m=CYCLE(2*Math.atan2(Math.sqrt(1+this._e)*Math.sin(e),Math.sqrt(1-this._e)*Math.cos(e)))}return CYCLE(2*
Math.atan2(Math.sqrt(1+this._e)*Math.sin(a/2),Math.sqrt(1-this._e)*Math.cos(a/2)))};a.B=function(){if("_B"in this)return this._B;var a=this.r(),e=this.v();return this._B=a.dot(e)/a.length()};a.e3=function(){if("_e3"in this)return this._e3;var a=this.r(),e=this.v();if(null!==a&&null!==e)return this._e3=a.clone().multiplyScalar(e.lengthSq()-this._G/a.length()).sub(e.clone().multiplyScalar(a.length()*this.B())).multiplyScalar(1/this._G)};a.i=function(){return this._i};a.e=function(){return this._e};
a.a=function(){return this._a};a.b=function(){return this._b};a.l=function(){return this._l};a.C=function(){return this._C};a.c=function(){return this._c};a.L=function(){return this._L};a.O=function(){return this._O};a.w=function(){return this._w};a.T=function(){return this._T};a.W=function(){return this._W};a.n=function(){return this._n};a.A=function(){return this._A};a.M=function(){return this._M};a.P=function(){return this._P};a.q=function(){return"_q"in this?this._q:this._q=Math.cos(this._O)*
Math.sin(this._i/2)};a.p=function(){return"_p"in this?this._p:this._p=Math.sin(this._O)*Math.sin(this._i/2)};a.k=function(){return"_k"in this?this._k:this._k=this._e*Math.cos(this._W)};a.h=function(){return"_h"in this?this._h:this._h=this._e*Math.sin(this._W)};a.update=function(a){this.elements||this.resolveElements(!0);this._M=CYCLE(this._n*(a-this._T));this._L=CYCLE(this._M+this._W);delete this._E;delete this._m;delete this._r;delete this._v;return this};a.state=function(a){var e=this._t||0;this.elements||
this.resolveElements(!0);a=a||0;if(!a&&"_r"in this&&"_v"in this)return{time:a,r:this._r,v:this._v,epoch:e,orbit:this};var b=this._e,d=this._a,f=this._i,h=this._O,g=this._w,m=this.E(a),l=this.m(m),k=d*(1-b*Math.cos(m)),p=Math.sqrt(this._G*d)/k;d=k*Math.cos(l);k*=Math.sin(l);l=p*-Math.sin(m);b=p*Math.sqrt(1-b*b)*Math.cos(m);p=Math.sin(h);var q=Math.cos(h);h=Math.sin(f);var n=Math.cos(f),x=Math.sin(g),y=Math.cos(g);g=y*q-x*p*n;f=y*p+x*q*n;m=y*p*n+x*q;p=y*q*n-x*p;q=x*h;h*=y;k=new u(d*g-k*m,d*f+k*p,d*
q+k*h);d=new u(l*g-b*m,l*f+b*p,l*q+b*h);a||(this._r=k,this._v=d);return{r:k,v:d,time:a,epoch:e,orbit:this}};a.r=function(a){return this.state(a).r};a.v=function(a){return this.state(a).v};a.inclination=a.i;a.eccentricity=a.e;a.semiMajorAxis=a.a;a.semiMinorAxis=a.b;a.semilatusRectum=a.l;a.meanLongitude=a.L;a.ascendingNode=a.O;a.argOfPericenter=a.w;a.timeOfPericenter=a.T;a.longitudeOfPericenter=a.W;a.meanMotion=a.n;a.meanAnomaly=a.M;a.orbitalPeriod=a.P;a.angularMomentum=a.A;a.trueAnomaly=a.m;a.radialVelocity=
a.B;a.eccentricAnomaly=a.E;a.apoapsis=a.C;a.aphelion=a.C;a.apocenter=a.C;a.periapsis=a.c;a.perhelion=a.c;a.pericenter=a.c;a.position=a.r;a.velocity=a.v;d.Orbit=d.Orbital=f})(this);"use strict";(function(d){function f(a){a=h(a);for(var c=JD2J2K(a)/100,A=c*c,b=A*c,e=n+t*c+m*A+u*b,d=k+p*c+q*A+r*b,f=x+y*c+z*A+E*b,N=F+H*c+I*A+G*b,M=J+K*c+B*A+C*b,D=a=0,v,O,L,w=0;w<l.length;w++)v=l[w][0]+l[w][1]*c,O=l[w][2]+l[w][3]*c,L=g[w][0]*e+g[w][1]*d+g[w][2]*f+g[w][3]*N+g[w][4]*M,a+=v*Math.sin(L),D+=O*Math.cos(L);c=
(23+26/60+21.448/3600-46.815/3600*c-5.9E-4/3600*A+.001813/3600*b)*DEG2RAD;a/=36E6/DEG2RAD;D/=36E6/DEG2RAD;return{longitude:TURN(a),obliquity:TURN(D),ecliptic:CYCLE(c)}}function a(a){if(2067314.5>a)return a=(a-2067314.5)/36525,1830-405*a+46.5*a*a;if(2067314.5<=a&&2305447.5>a)return a=(a-2396758.5)/36525,22.5*a*a;if(2312752.5<=a&&2448622.5>a){var c=Math.floor((a-2312752.5)/730.5);c>b.length-2&&(c=b.length-2);var e=b[c+1]-b[c],d=b[c+2]-b[c+1];a=(a-(2312752.5+730.5*c))/730.5;return b[c+1]+a/2*(e+d+a*
(e-d))}if(2448622.5<=a&&2455197.5>=a)return c=[56.86,63.83,70],e=c[1]-c[0],d=c[2]-c[1],a=(a-2451544.5)/3652.5,c[1]+a/2*(e+d+a*(d-e));a-=2382148;return-15+a*a/41048480}function h(c){return c+a(c)/JD2SEC}function e(a){var b=JD2J2K(a)/100;return CYCLE(c+M*(a-2451545)+N*b*b+D*b*b*b)}var b=[124,115,106,98,91,85,79,74,70,65,62,58,55,53,50,48,46,44,42,40,37,35,33,31,28,26,24,22,20,18,16,14,13,12,11,10,9,9,9,9,9,9,9,9,10,10,10,10,10,11,11,11,11,11,11,11,12,12,12,12,12,12,13,13,13,13,14,14,14,15,15,15,15,
16,16,16,16,16,17,17,17,17,17,17,17,17,16,16,15,14,13.7,13.1,12.7,12.5,12.5,12.5,12.5,12.5,12.5,12.3,12,11.4,10.6,9.6,8.6,7.5,6.6,6,5.7,5.6,5.7,5.9,6.2,6.5,6.8,7.1,7.3,7.5,7.7,7.8,7.9,7.5,6.4,5.4,2.9,1.6,-1,-2.7,-3.6,-4.7,-5.4,-5.2,-5.5,-5.6,-5.8,-5.9,-6.2,-6.4,-6.1,-4.7,-2.7,0,2.6,5.4,7.7,10.5,13.4,16,18.2,20.2,21.2,22.4,23.5,23.9,24.3,24,23.9,23.9,23.7,24,24.3,25.3,26.2,27.3,28.2,29.1,30,30.7,31.4,32.2,33.1,34,35,36.5,38.3,40.2,42.2,44.5,46.5,48.5,50.5,52.2,53.8,54.9,55.8,56.9,58.3],g=[[0,0,0,0,
1],[-2,0,0,2,2],[0,0,0,2,2],[0,0,0,0,2],[0,1,0,0,0],[0,0,1,0,0],[-2,1,0,2,2],[0,0,0,2,1],[0,0,1,2,2],[-2,-1,0,2,2],[-2,0,1,0,0],[-2,0,0,2,1],[0,0,-1,2,2],[2,0,0,0,0],[0,0,1,0,1],[2,0,-1,2,2],[0,0,-1,0,1],[0,0,1,2,1],[-2,0,2,0,0],[0,0,-2,2,1],[2,0,0,2,2],[0,0,2,2,2],[0,0,2,0,0],[-2,0,1,2,2],[0,0,0,2,0],[-2,0,0,2,0],[0,0,-1,2,1],[0,2,0,0,0],[2,0,-1,0,1],[-2,2,0,2,2],[0,1,0,0,1],[-2,0,1,0,1],[0,-1,0,0,1],[0,0,2,-2,0],[2,0,-1,2,1],[2,0,1,2,2],[0,1,0,2,2],[-2,1,1,0,0],[0,-1,0,2,2],[2,0,0,2,1],[2,0,1,0,
0],[-2,0,2,2,2],[-2,0,1,2,1],[2,0,-2,0,1],[2,0,0,0,1],[0,-1,1,0,0],[-2,-1,0,2,1],[-2,0,0,0,1],[0,0,2,2,1],[-2,0,2,0,1],[-2,1,0,2,1],[0,0,1,-2,0],[-1,0,1,0,0],[-2,1,0,0,0],[1,0,0,0,0],[0,0,1,2,0],[0,0,-2,2,2],[-1,-1,1,0,0],[0,1,1,0,0],[0,-1,1,2,2],[2,-1,-1,2,2],[0,0,3,2,2],[2,-1,0,2,2]],l=[[-171996,-174.2,92025,8.9],[-13187,-1.6,5736,-3.1],[-2274,-.2,977,-.5],[2062,.2,-895,.5],[1426,-3.4,54,-.1],[712,.1,-7,0],[-517,1.2,224,-.6],[-386,-.4,200,0],[-301,0,129,-.1],[217,-.5,-95,.3],[-158,0,0,0],[129,.1,
-70,0],[123,0,-53,0],[63,0,0,0],[63,.1,-33,0],[-59,0,26,0],[-58,-.1,32,0],[-51,0,27,0],[48,0,0,0],[46,0,-24,0],[-38,0,16,0],[-31,0,13,0],[29,0,0,0],[29,0,-12,0],[26,0,0,0],[-22,0,0,0],[21,0,-10,0],[17,-.1,0,0],[16,0,-8,0],[-16,.1,7,0],[-15,0,9,0],[-13,0,7,0],[-12,0,6,0],[11,0,0,0],[-10,0,5,0],[-8,0,3,0],[7,0,-3,0],[-7,0,0,0],[-7,0,3,0],[-7,0,3,0],[6,0,0,0],[6,0,-3,0],[6,0,-3,0],[-6,0,3,0],[-6,0,3,0],[5,0,0,0],[-5,0,3,0],[-5,0,3,0],[-5,0,3,0],[4,0,0,0],[4,0,0,0],[4,0,0,0],[-4,0,0,0],[-4,0,0,0],[-4,
0,0,0],[3,0,0,0],[-3,0,0,0],[-3,0,0,0],[-3,0,0,0],[-3,0,0,0],[-3,0,0,0],[-3,0,0,0],[-3,0,0,0]],n=297.85036*DEG2RAD,t=445267.11148*DEG2RAD,m=-.0019142*DEG2RAD,u=DEG2RAD/189474,k=357.52772*DEG2RAD,p=35999.05034*DEG2RAD,q=-.0086972*DEG2RAD,r=-DEG2RAD/3E5,x=134.96298*DEG2RAD,y=477198.867398*DEG2RAD,z=.0086972*DEG2RAD,E=DEG2RAD/56250,F=93.27191*DEG2RAD,H=483202.017538*DEG2RAD,I=-.0036825*DEG2RAD,G=DEG2RAD/327270,J=125.04452*DEG2RAD,K=-1934.136261*DEG2RAD,B=.0020708*DEG2RAD,C=DEG2RAD/45E4,c=280.46061837*
DEG2RAD,M=360.98564736629*DEG2RAD,N=3.87933E-4*DEG2RAD,D=-DEG2RAD/3871E4;d.JD2JDE=h;d.JDE2JD=function(c){return c-a(c)/JD2SEC};d.getMeanSiderealTime=e;d.getApparentSiderealTime=function(a){var c=f(a);return e(a)+c.longitude/1*Math.cos(c.obliquity)};d.getNutation=f})(this);"use strict";(function(d){function f(){return{p:this.p,l:this.l,z:this.z}}function a(){return{x:this.x,y:this.y,z:this.z}}function g(){return{l:this.l,b:this.b,i:this.i,r:this.r}}function e(){this.r=Math.sqrt(this.x*this.x+this.y*
this.y+this.z*this.z);this.i=Math.acos(this.z/this.r);this.b=n/2-this.i;this.l=Math.atan2(this.y,this.x);return(this.sph=g).call(this)}function b(){var c=this.r*Math.sin(this.i);this.x=c*Math.cos(this.l);this.y=c*Math.sin(this.l);this.z=this.r*Math.cos(this.i);return(this.cart=a).call(this)}function l(){this.p=Math.sqrt(this.x*this.x+this.y*this.y);this.l=Math.atan2(this.y,this.x);return(this.cyl=f).call(this)}function t(){this.x=this.p*Math.cos(this.l);this.y=this.p*Math.sin(this.l);return(this.cart=
a).call(this)}function v(){this.i=Math.atan2(this.p,this.z);this.b=n/2-this.i;this.r=Math.sqrt(this.p*this.p+this.z*this.z);return(this.sph=g).call(this)}function u(){this.p=this.r*Math.cos(this.b);this.z=this.r*Math.sin(this.b);return(this.cyl=f).call(this)}function m(c){"ra"in c&&(c.l=c.ra);"dec"in c&&(c.b=c.dec);"dist"in c&&(c.r=c.dist);"x"in c&&"y"in c&&"z"in c?(this.x=c.x,this.y=c.y,this.z=c.z,this.cart=a,this.sph=e,this.cyl=l):"p"in c&&"l"in c&&"z"in c?(this.p=c.p,this.l=c.l,this.z=c.z,this.cart=
t,this.sph=v,this.cyl=f):"l"in c&&(this.l=c.l,this.r=c.r||1,"i"in c||"b"in c)&&(this.cart=b,this.sph=g,this.cyl=u,"b"in c?(this.b=c.b,this.i=n/2-this.b):"i"in c&&(this.i=c.i,this.b=n/2-this.i))}m.prototype.ecl2equ=function(a){var c=this.cart(),b=Math.sin(a);a=Math.cos(a);return new m({x:c.x,y:c.y*a-c.z*b,z:c.z*a+c.y*b})};m.prototype.equ2ecl=function(a){var c=this.cart(),b=Math.sin(a);a=Math.cos(a);return new m({x:c.x,y:c.y*a+c.z*b,z:c.z*a-c.y*b})};var r=32.932*DEG2RAD,k=192.859508*DEG2RAD,p=27.128336*
DEG2RAD;m.prototype.gal2equ=function(){var a=this.sph(),b=a.l,e=a.b;a=Math.sin(e);e=Math.cos(e);var d=Math.sin(p),f=Math.cos(p),g=e*Math.sin(b-r),h=Math.asin(a*d+g*f);return{l:CYCLE(Math.atan2(e*Math.cos(b-r),a*f-g*d)+k),b:TURN(h)}};m.prototype.equ2gal=function(){var a=this.sph(),b=a.l,e=a.b;a=Math.sin(e);e=Math.cos(e);var d=Math.sin(p),f=Math.cos(p),g=Math.cos(k-b),h=Math.asin(a*d+e*f*g);return{l:CYCLE(r-Math.atan2(Math.sin(k-b),g*d-a/e*f)-n/2),b:TURN(h)}};var q=2306.2181*DEG2RAD,z=1.39656*DEG2RAD,
x=1.39E-4*DEG2RAD,y=.30188*DEG2RAD,P=3.44E-4*DEG2RAD,E=.017998*DEG2RAD,F=1.09468*DEG2RAD,H=6.6E-5*DEG2RAD,I=.018203*DEG2RAD,G=2004.3109*DEG2RAD,J=.8533*DEG2RAD,K=.42665*DEG2RAD,B=2.17E-4*DEG2RAD,C=.041833*DEG2RAD;m.prototype.precess=function(a,b){var c=this.l,e=this.b;var d=(a-b)/36E4;var f=d*d,g=f*d;if(d){var h=b/36E4;var k=h*h;b=(q+z*h-x*k)*d+(F+H*h)*f+I*g;a=(q+z*h-x*k)*d+(y-P*h)*f+E*g;d=(G-J*h-B*k)*d-(K+B*h)*f-C*g}else b=q*d+F*f+C*g,a=q*d+y*f+E*g,d=G*d-B*f-C*g;g=Math.cos(e);f=g*Math.cos(c+a);c=
g*Math.sin(c+a);a=Math.cos(d)*f-Math.sin(d)*Math.sin(e);d=Math.sin(d)*f+Math.cos(d)*Math.sin(e);b=Math.atan2(c,a)+b;e>.4*n||e<-.4*n?(c=Math.acos(Math.sqrt(c*c+a*a)),0>e&&(c*=-1)):c=Math.asin(d);e={l:CYCLE(b),b:TURN(c)};"r"in this&&(e.r=this.r);return e};d.Coord=m})(this)}).call(this,this);

/* crc: 2061D0BD5E887B6A193ED5DBDA44B9AA */
