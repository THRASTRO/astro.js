/* autogenerated by webmerge (compile context) */
;
/*
Astronomical Calculations (https://github.com/mgreter/astro.js)
- Copyright (c) 2017 Marcel Greter (http://github.com/mgreter)
*/;
/* Vector3 implementation included */;
(function(x){function l(a){a%=h;0>a&&(a+=h);return a}function y(a){a%=h;a>q&&(a-=h);return a}"undefined"==typeof x.THREE&&(x.THREE={});THREE.Vector3=function(a,b,c){this.x=a||0;this.y=b||0;this.z=c||0};THREE.Vector3.prototype={constructor:THREE.Vector3,set:function(a,b,c){this.x=a;this.y=b;this.z=c;return this},setX:function(a){this.x=a;return this},setY:function(a){this.y=a;return this},setZ:function(a){this.z=a;return this},copy:function(a){this.x=a.x;this.y=a.y;this.z=a.z;return this},clone:function(){return new THREE.Vector3(this.x,
this.y,this.z)},add:function(a,b){this.x=a.x+b.x;this.y=a.y+b.y;this.z=a.z+b.z;return this},addSelf:function(a){this.x+=a.x;this.y+=a.y;this.z+=a.z;return this},addScalar:function(a){this.x+=a;this.y+=a;this.z+=a;return this},sub:function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;this.z=a.z-b.z;return this},subSelf:function(a){this.x-=a.x;this.y-=a.y;this.z-=a.z;return this},multiply:function(a,b){this.x=a.x*b.x;this.y=a.y*b.y;this.z=a.z*b.z;return this},multiplySelf:function(a){this.x*=a.x;this.y*=a.y;
this.z*=a.z;return this},multiplyScalar:function(a){this.x*=a;this.y*=a;this.z*=a;return this},divideSelf:function(a){this.x/=a.x;this.y/=a.y;this.z/=a.z;return this},divideScalar:function(a){a?(this.x/=a,this.y/=a,this.z/=a):this.z=this.y=this.x=0;return this},negate:function(){return this.multiplyScalar(-1)},dot:function(a){return this.x*a.x+this.y*a.y+this.z*a.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.lengthSq())},lengthManhattan:function(){return this.x+
this.y+this.z},normalize:function(){return this.divideScalar(this.length())},setLength:function(a){return this.normalize().multiplyScalar(a)},cross:function(a,b){this.x=a.y*b.z-a.z*b.y;this.y=a.z*b.x-a.x*b.z;this.z=a.x*b.y-a.y*b.x;return this},crossSelf:function(a){var b=this.x,c=this.y,e=this.z;this.x=c*a.z-e*a.y;this.y=e*a.x-b*a.z;this.z=b*a.y-c*a.x;return this},distanceTo:function(a){return Math.sqrt(this.distanceToSquared(a))},distanceToSquared:function(a){return(new THREE.Vector3).sub(this,a).lengthSq()},
setPositionFromMatrix:function(a){this.x=a.n14;this.y=a.n24;this.z=a.n34},setRotationFromMatrix:function(a){var b=Math.cos(this.y);this.y=Math.asin(a.n13);1E-5<Math.abs(b)?(this.x=Math.atan2(-a.n23/b,a.n33/b),this.z=Math.atan2(-a.n12/b,a.n11/b)):(this.x=0,this.z=Math.atan2(a.n21,a.n22))},isZero:function(){return 1E-4>this.lengthSq()}};THREE.Vector3=function(a,b,c){this.x=a||0;this.y=b||0;this.z=c||0};THREE.Vector3.prototype={constructor:THREE.Vector3,set:function(a,b,c){this.x=a;this.y=b;this.z=c;
return this},setScalar:function(a){this.z=this.y=this.x=a;return this},setX:function(a){this.x=a;return this},setY:function(a){this.y=a;return this},setZ:function(a){this.z=a;return this},setComponent:function(a,b){switch(a){case 0:this.x=b;break;case 1:this.y=b;break;case 2:this.z=b;break;default:throw Error("index is out of range: "+a);}},getComponent:function(a){switch(a){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw Error("index is out of range: "+a);}},clone:function(){return new this.constructor(this.x,
this.y,this.z)},copy:function(a){this.x=a.x;this.y=a.y;this.z=a.z;return this},add:function(a,b){if(void 0!==b)return console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(a,b);this.x+=a.x;this.y+=a.y;this.z+=a.z;return this},addScalar:function(a){this.x+=a;this.y+=a;this.z+=a;return this},addVectors:function(a,b){this.x=a.x+b.x;this.y=a.y+b.y;this.z=a.z+b.z;return this},addScaledVector:function(a,b){this.x+=a.x*b;this.y+=a.y*b;this.z+=
a.z*b;return this},sub:function(a,b){if(void 0!==b)return console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(a,b);this.x-=a.x;this.y-=a.y;this.z-=a.z;return this},subScalar:function(a){this.x-=a;this.y-=a;this.z-=a;return this},subVectors:function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;this.z=a.z-b.z;return this},multiply:function(a,b){if(void 0!==b)return console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),
this.multiplyVectors(a,b);this.x*=a.x;this.y*=a.y;this.z*=a.z;return this},multiplyScalar:function(a){isFinite(a)?(this.x*=a,this.y*=a,this.z*=a):this.z=this.y=this.x=0;return this},multiplyVectors:function(a,b){this.x=a.x*b.x;this.y=a.y*b.y;this.z=a.z*b.z;return this},applyEuler:function(){var a;return function(b){!1===b instanceof THREE.Euler&&console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order.");void 0===a&&(a=new THREE.Quaternion);this.applyQuaternion(a.setFromEuler(b));
return this}}(),applyAxisAngle:function(){var a;return function(b,c){void 0===a&&(a=new THREE.Quaternion);this.applyQuaternion(a.setFromAxisAngle(b,c));return this}}(),applyMatrix3:function(a){var b=this.x,c=this.y,e=this.z;a=a.elements;this.x=a[0]*b+a[3]*c+a[6]*e;this.y=a[1]*b+a[4]*c+a[7]*e;this.z=a[2]*b+a[5]*c+a[8]*e;return this},applyMatrix4:function(a){var b=this.x,c=this.y,e=this.z;a=a.elements;this.x=a[0]*b+a[4]*c+a[8]*e+a[12];this.y=a[1]*b+a[5]*c+a[9]*e+a[13];this.z=a[2]*b+a[6]*c+a[10]*e+a[14];
return this},applyProjection:function(a){var b=this.x,c=this.y,e=this.z;a=a.elements;var r=1/(a[3]*b+a[7]*c+a[11]*e+a[15]);this.x=(a[0]*b+a[4]*c+a[8]*e+a[12])*r;this.y=(a[1]*b+a[5]*c+a[9]*e+a[13])*r;this.z=(a[2]*b+a[6]*c+a[10]*e+a[14])*r;return this},applyQuaternion:function(a){var b=this.x,c=this.y,e=this.z,r=a.x,g=a.y,d=a.z;a=a.w;var f=a*b+g*e-d*c,k=a*c+d*b-r*e,n=a*e+r*c-g*b,b=-r*b-g*c-d*e;this.x=f*a+b*-r+k*-d-n*-g;this.y=k*a+b*-g+n*-r-f*-d;this.z=n*a+b*-d+f*-g-k*-r;return this},project:function(){var a;
return function(b){void 0===a&&(a=new THREE.Matrix4);a.multiplyMatrices(b.projectionMatrix,a.getInverse(b.matrixWorld));return this.applyProjection(a)}}(),unproject:function(){var a;return function(b){void 0===a&&(a=new THREE.Matrix4);a.multiplyMatrices(b.matrixWorld,a.getInverse(b.projectionMatrix));return this.applyProjection(a)}}(),transformDirection:function(a){var b=this.x,c=this.y,e=this.z;a=a.elements;this.x=a[0]*b+a[4]*c+a[8]*e;this.y=a[1]*b+a[5]*c+a[9]*e;this.z=a[2]*b+a[6]*c+a[10]*e;this.normalize();
return this},divide:function(a){this.x/=a.x;this.y/=a.y;this.z/=a.z;return this},divideScalar:function(a){return this.multiplyScalar(1/a)},min:function(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y);this.z=Math.min(this.z,a.z);return this},max:function(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y);this.z=Math.max(this.z,a.z);return this},clamp:function(a,b){this.x=Math.max(a.x,Math.min(b.x,this.x));this.y=Math.max(a.y,Math.min(b.y,this.y));this.z=Math.max(a.z,Math.min(b.z,
this.z));return this},clampScalar:function(){var a,b;return function(c,e){void 0===a&&(a=new THREE.Vector3,b=new THREE.Vector3);a.set(c,c,c);b.set(e,e,e);return this.clamp(a,b)}}(),clampLength:function(a,b){var c=this.length();this.multiplyScalar(Math.max(a,Math.min(b,c))/c);return this},floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);this.z=Math.floor(this.z);return this},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);this.z=Math.ceil(this.z);return this},
round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);this.z=Math.round(this.z);return this},roundToZero:function(){this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x);this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y);this.z=0>this.z?Math.ceil(this.z):Math.floor(this.z);return this},negate:function(){this.x=-this.x;this.y=-this.y;this.z=-this.z;return this},dot:function(a){return this.x*a.x+this.y*a.y+this.z*a.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},
length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length())},setLength:function(a){return this.multiplyScalar(a/this.length())},lerp:function(a,b){this.x+=(a.x-this.x)*b;this.y+=(a.y-this.y)*b;this.z+=(a.z-this.z)*b;return this},lerpVectors:function(a,b,c){this.subVectors(b,a).multiplyScalar(c).add(a);return this},cross:function(a,b){if(void 0!==
b)return console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(a,b);b=this.x;var c=this.y,e=this.z;this.x=c*a.z-e*a.y;this.y=e*a.x-b*a.z;this.z=b*a.y-c*a.x;return this},crossVectors:function(a,b){var c=a.x,e=a.y;a=a.z;var r=b.x,g=b.y;b=b.z;this.x=e*b-a*g;this.y=a*r-c*b;this.z=c*g-e*r;return this},projectOnVector:function(){var a,b;return function(c){void 0===a&&(a=new THREE.Vector3);a.copy(c).normalize();b=this.dot(a);return this.copy(a).multiplyScalar(b)}}(),
projectOnPlane:function(){var a;return function(b){void 0===a&&(a=new THREE.Vector3);a.copy(this).projectOnVector(b);return this.sub(a)}}(),reflect:function(){var a;return function(b){void 0===a&&(a=new THREE.Vector3);return this.sub(a.copy(b).multiplyScalar(2*this.dot(b)))}}(),angleTo:function(a){a=this.dot(a)/Math.sqrt(this.lengthSq()*a.lengthSq());return Math.acos(THREE.Math.clamp(a,-1,1))},distanceTo:function(a){return Math.sqrt(this.distanceToSquared(a))},distanceToSquared:function(a){var b=
this.x-a.x,c=this.y-a.y;a=this.z-a.z;return b*b+c*c+a*a},setFromSpherical:function(a){var b=Math.sin(a.phi)*a.radius;this.x=b*Math.sin(a.theta);this.y=Math.cos(a.phi)*a.radius;this.z=b*Math.cos(a.theta);return this},setFromMatrixPosition:function(a){return this.setFromMatrixColumn(a,3)},setFromMatrixScale:function(a){var b=this.setFromMatrixColumn(a,0).length(),c=this.setFromMatrixColumn(a,1).length();a=this.setFromMatrixColumn(a,2).length();this.x=b;this.y=c;this.z=a;return this},setFromMatrixColumn:function(a,
b){"number"===typeof a&&(console.warn("THREE.Vector3: setFromMatrixColumn now expects ( matrix, index )."),b=a=b);return this.fromArray(a.elements,4*b)},equals:function(a){return a.x===this.x&&a.y===this.y&&a.z===this.z},fromArray:function(a,b){void 0===b&&(b=0);this.x=a[b];this.y=a[b+1];this.z=a[b+2];return this},toArray:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this.x;a[b+1]=this.y;a[b+2]=this.z;return a},fromAttribute:function(a,b,c){void 0===c&&(c=0);b=b*a.itemSize+c;this.x=a.array[b];
this.y=a.array[b+1];this.z=a.array[b+2];return this}};var q=1*Math.PI,h=2*Math.PI,d=h/360,I=24/360;Math.cbrt=Math.cbrt||function(a){var b=Math.pow(Math.abs(a),1/3);return 0>a?-b:b};"undefined"!=typeof THREE&&(x.Vector3=THREE.Vector3);"use strict";(function(a){function b(a){if(a.empty)return this;this._G=2.959122083684144E-4;"x"in a&&"y"in a&&"z"in a?this._r=new Vector3(a.x,a.y,a.z):"rx"in a&&"ry"in a&&"rz"in a&&(this._r=new Vector3(a.rx,a.ry,a.rz));"X"in a&&"Y"in a&&"Z"in a?this._v=new Vector3(a.X,
a.Y,a.Z):"vx"in a&&"vy"in a&&"vz"in a&&(this._v=new Vector3(a.vx,a.vy,a.vz));if("r"in a&&"v"in a){var b=a.r,c=a.v;this._r=new Vector3(b.x,b.y,b.z);this._v=new Vector3(c.x,c.y,c.z)}this.vectors=!(!this._r||!this._v);var b="aeiMnPLcCwWOkhqpG".split(""),d;for(d in b)a.hasOwnProperty(b[d])&&(this["_"+b[d]]=a[b[d]]);"name"in a&&(this.name=a.name);this.lazy||(this.updateElements(),this.requireElements())}var c=b.prototype;c.clone=function(a){var c=new b({empty:!0});a&&(delete this._v,delete this._r);for(var g in this)this.hasOwnProperty(g)&&
(c[g]="function"==typeof this[g].clone?this[g].clone():this[g]);a&&c.update(a);return c};c.checkElements=function(a){if(!this.elements)throw"Orbitals not calculated";if(!("_i"in this))throw"Orbit is missing inclination (i)";if(!("_e"in this))throw"Orbit is missing eccentricity (e)";if(!("_a"in this))throw"Orbit is missing semi-major axis (a)";if(!("_b"in this))throw"Orbit is missing semi-minor axis (b)";if(!("_l"in this))throw"Orbit is missing semi-latus rectum (l)";if(!("_c"in this))throw"Orbit is missing periapsis (c)";
if(!("_C"in this))throw"Orbit is missing apoapsis (C)";if(!("_L"in this))throw"Orbit is missing mean longitude (L)";if(!("_O"in this))throw"Orbit is missing right ascending node (O)";if(!("_T"in this))throw"Orbit is missing time of periapsis (w)";if(!("_w"in this))throw"Orbit is missing argument of periapsis (w)";if(!("_W"in this))throw"Orbit is missing longitude of the periapsis (W)";if(!("_n"in this))throw"Orbit is missing mean motion (n)";if(!("_M"in this))throw"Orbit is missing mean anomaly (M)";
if(!("_P"in this))throw"Orbit is missing orbital period (P)";if(!("_A"in this))throw"Orbit is missing angular momentum (A)";if(!("_c"in this))throw"Orbit is missing pericenter (c)";if(!("_C"in this))throw"Orbit is missing apocenter (C)";if(a&&!("_m"in this))throw"Orbit is missing true anomaly (m)";if(a&&!("_B"in this))throw"Orbit is missing radial velocity (B)";if(a&&!("_E"in this))throw"Orbit is missing eccentric anomaly (E)";};c.requireElements=function(a){this.updateElements(a);this.checkElements(a);
return this};c.updateElements=function(a){if(this.elements)return this;this.elements=!0;if("_r"in this&&"_v"in this){var b=this._r,c=this._v,d=this._G,f=b.length();this._A3=b.clone().cross(c);this._A2=this._A3.lengthSq();this._A=Math.sqrt(this._A2);this._B=b.dot(c)/f;var k=this._e3=b.clone().multiplyScalar(c.lengthSq()-d/f).sub(c.clone().multiplyScalar(f*this._B)).multiplyScalar(1/d),c=k.lengthSq(),c=this._e=Math.sqrt(c);this._i=Math.acos(this._A3.z/this._A);this._l=this._A2/d;this._c=this._l/(1+
c);this._C=this._l/(1-c);this._a=(this._C+this._c)/2;var d=-this._A3.y,n=+this._A3.x,m=Math.sqrt(d*d+n*n),p=0==m?0:Math.acos(d/m);this._O=0>n?h-p:p;p=d*k.x+n*k.y;0===m||0===c?this.w=0:this._w=Math.acos(p/m/c);0>k.z&&(this._w*=-1);b=0===c&&0===m?Math.acos(b.x/f):0===c?Math.acos((d*b.x+n*b.y)/(m*f)):Math.acos((k.x*b.x+k.y*b.y+k.z*b.z)/c/f);b=this._m=0>this._B?h-b:b;b=this._E=l(Math.atan2(Math.sqrt(1-c*c)*Math.sin(b),c+Math.cos(b)));this._M=b-c*Math.sin(b)}"_k"in this&&"_h"in this&&(this._W=Math.atan2(this._h,
this._k),this._e=this._h/Math.sin(this._W));"_q"in this&&"_p"in this&&(this._O=Math.atan2(this._p,this._q),this._i=2*Math.asin((this._p-this._q)/(-Math.sqrt(2)*Math.sin(q/4-this._O))));"_n"in this&&!("_a"in this)&&(this._a=Math.cbrt(this._G/this._n/this._n));"_P"in this&&!("_a"in this)&&(c=this._P/h,this._a=Math.cbrt(this._G*c*c));"_a"in this||("_c"in this&&"_C"in this?this._a=(this._C+this._c)/2:"_e"in this&&"_C"in this?this._a=this._C/(1+this._e):"_c"in this&&"_e"in this&&(this._a=this._c/(1-this._e)));
"_e"in this||("_c"in this&&"_C"in this?this._e=1-this._c/this._a:"_a"in this&&"_C"in this?this._e=this._C/this._a-1:"_c"in this&&"_a"in this&&(this._e=1-this._c/this._a));"_e"in this?(c=1-this._e*this._e,"_a"in this?(this._l=this._a*c,this._b=Math.sqrt(this._a*this._l)):"_b"in this?(this._a=this._b/Math.sqrt(c),this._l=this._a*c):"_l"in this&&(this._a=this._l/c,this._b=Math.sqrt(this._a*this._l))):"_a"in this?"_b"in this?(this._l=this._b*this._b/this._a,this._e=Math.sqrt(1-this._l/this._a)):"_l"in
this&&(this._e=Math.sqrt(1-this._l/this._a),this._b=Math.sqrt(this._a*this._l)):"_b"in this&&"_l"in this&&(this.a=this._b*this._b/this._l,this._e=Math.sqrt(1-this._l/this._a));"_a"in this&&!("_P"in this)&&(this._P=h/Math.sqrt(this._G)*Math.pow(this._a,1.5));"_P"in this&&!("_n"in this)&&(this._n=h/this._P);"_P"in this&&!("_A"in this)&&"_a"in this&&"_b"in this&&(this._A=h*this._a*this._b/this._P);"_a"in this&&"_e"in this&&("_c"in this||(this._c=this._a*(1-this._e)),"_C"in this||(this._C=this._a*(1+
this._e)));if("_L"in this)if("_M"in this)this._W=this._L-this._M,"_O"in this?this._w=this._W-this._O:"_w"in this&&(this._O=this._W-this._w);else if("_W"in this)this._M=this._L-this._W,"_O"in this?this._w=this._W-this._O:"_w"in this&&(this._O=this._W-this._w);else if("_O"in this&&"_w"in this)this._W=this._O+this._w,this._M=this._L-this._W;else throw"Orbit incomplete";else if("_O"in this)if("_w"in this)this._W=this._O+this._w,"_M"in this&&(this._L=this._M+this._W);else if("_W"in this)this._w=this._W-
this._O,"_M"in this&&(this._L=this._M+this._W);else throw"Orbit incomplete";else"_M"in this&&"_w"in this&&"_W"in this&&(this._L=this._W+this._M,this._O=this._W-this._w);a&&this.m();"_W"in this&&(this._W=y(this._W));"_L"in this&&(this._L=l(this._L));"_M"in this&&(this._M=l(this._M));"_O"in this&&(this._O=l(this._O));"_w"in this&&(this._w=y(this._w));"_M"in this&&(this._T=-this._M/this._n);return this};c.E=function(a){if("_E"in this&&!a)return this._E;var b=this._e,c=this._m,d=this._M;if(!a&&null!=
b&&null!=c)return this._E=l(Math.atan2(Math.sqrt(1-b*b)*Math.sin(c),b+Math.cos(c)));if(null!=b&&null!=d){a&&(d=l(this._n*(a-this._T)));var c=.8>b?d:q,f,k;f=1;for(var n=0;1E-12<Math.abs(f)&&12>n;++n)f=d-c+b*Math.sin(c),k=b*Math.cos(c)-1,f/=k,c-=f;c=l(c);a||(this._E=c);return c}throw"Invalid orbital state";};c.m=function(a){if(0===arguments.length){if("_m"in this)return this._m;var b=this.E()/2;return this._m=l(2*Math.atan2(Math.sqrt(1+this._e)*Math.sin(b),Math.sqrt(1-this._e)*Math.cos(b)))}return l(2*
Math.atan2(Math.sqrt(1+this._e)*Math.sin(a/2),Math.sqrt(1-this._e)*Math.cos(a/2)))};c.B=function(){if("_B"in this)return this._B;var a=this.r(),b=this.v();return this._B=a.dot(b)/a.length()};c.e3=function(){if("_e3"in this)return this._e3;var a=this.r(),b=this.v();if(null!==a&&null!==b)return this._e3=a.clone().multiplyScalar(b.lengthSq()-this._G/a.length()).sub(b.clone().multiplyScalar(a.length()*this.B())).multiplyScalar(1/this._G)};c.i=function(){return this._i};c.e=function(){return this._e};
c.a=function(){return this._a};c.b=function(){return this._b};c.l=function(){return this._l};c.C=function(){return this._C};c.c=function(){return this._c};c.L=function(){return this._L};c.O=function(){return this._O};c.w=function(){return this._w};c.T=function(){return this._T};c.W=function(){return this._W};c.n=function(){return this._n};c.A=function(){return this._A};c.M=function(){return this._M};c.P=function(){return this._P};c.q=function(){return"_q"in this?this._q:this._q=Math.cos(this._O)*
Math.sin(this._i/2)};c.p=function(){return"_p"in this?this._p:this._p=Math.sin(this._O)*Math.sin(this._i/2)};c.k=function(){return"_k"in this?this._k:this._k=this._e*Math.cos(this._W)};c.h=function(){return"_h"in this?this._h:this._h=this._e*Math.sin(this._W)};c.update=function(a){this.elements||this.resolveElements(!0);this._M=l(this._n*(a-this._T));this._L=l(this._M+this._W);delete this._E;delete this._m;delete this._r;delete this._v;return this};c.state=function(a){};c.state=function(a){this.elements||
this.resolveElements(!0);var b=this._e,c=this._a,d=this._i,f=this._O,k=this._w,n=this.E(),m=this.m();a=a||0;var p=c*(1-b*Math.cos(n)),l=Math.sqrt(this._G*c)/p,c=p*Math.cos(m),p=p*Math.sin(m),m=l*-Math.sin(n),b=l*Math.sqrt(1-b*b)*Math.cos(n),l=Math.sin(f),t=Math.cos(f),f=Math.sin(d),h=Math.cos(d),q=Math.sin(k),v=Math.cos(k),k=v*t-q*l*h,d=v*l+q*t*h,n=v*l*h+q*t,l=v*t*h-q*l,t=q*f,f=v*f,p=new Vector3(c*k-p*n,c*d+p*l,c*t+p*f),c=new Vector3(m*k-b*n,m*d+b*l,m*t+b*f);a||(this._r=p,this._v=c);return{r:p,v:c,
time:a,orbit:this}};c.r=function(){if("_r"in this)return this._r;var a=this.state(0);this._r=a.r;this._v=a.v;return a.r};c.v=function(){if("_v"in this)return this._v;var a=this.state(0);this._r=a.r;return this._v=a.v};c.inclination=c.i;c.eccentricity=c.e;c.semiMajorAxis=c.a;c.semiMinorAxis=c.b;c.semilatusRectum=c.l;c.meanLongitude=c.L;c.ascendingNode=c.O;c.argOfPericenter=c.w;c.timeOfPericenter=c.T;c.longitudeOfPericenter=c.W;c.meanMotion=c.n;c.meanAnomaly=c.M;c.orbitalPeriod=c.P;c.angularMomentum=
c.A;c.trueAnomaly=c.m;c.radialVelocity=c.B;c.eccentricAnomaly=c.E;c.apoapsis=c.C;c.aphelion=c.C;c.apocenter=c.C;c.periapsis=c.c;c.perhelion=c.c;c.pericenter=c.c;c.position=c.r;c.velocity=c.v;a.Orbit=a.Orbital=b})(this);"use strict";(function(a){function b(a){for(var b=(e(a)-2451545)/365.25/100,c=b*b,w=c*b,Q=k+n*b+m*c+p*w,P=q+t*b+z*c+D*w,R=v+E*b+x*c+F*w,g=G+K*b+L*c+H*w,r=M+N*b+A*c+B*w,C=a=0,S,T,O,u=0;u<f.length;u++)S=f[u][0]+f[u][1]*b,T=f[u][2]+f[u][3]*b,O=h[u][0]*Q+h[u][1]*P+h[u][2]*R+h[u][3]*g+h[u][4]*
r,a+=S*Math.sin(O),C+=T*Math.cos(O);b=(23+26/60+21.448/3600-46.815/3600*b-5.9E-4/3600*c+.001813/3600*w)*d;a/=36E6/d;C/=36E6/d;return{longitude:y(a),obliquity:y(C),ecliptic:l(b)}}function c(a){if(2067314.5>a)return a=(a-2067314.5)/36525,1830-405*a+46.5*a*a;if(2067314.5<=a&&2305447.5>a)return a=(a-2396758.5)/36525,22.5*a*a;if(2312752.5<=a&&2448622.5>a){var b=Math.floor((a-2312752.5)/730.5);b>g.length-2&&(b=g.length-2);var c=g[b+1]-g[b],d=g[b+2]-g[b+1];a=(a-(2312752.5+730.5*b))/730.5;return g[b+1]+a/
2*(c+d+a*(c-d))}if(2448622.5<=a&&2455197.5>=a)return b=[56.86,63.83,70],c=b[1]-b[0],d=b[2]-b[1],a=(a-2451544.5)/3652.5,b[1]+a/2*(c+d+a*(d-c));a-=2382148;return-15+a*a/41048480}function e(a){return a+c(a)/86400}function r(a){var b=(a-2451545)/365.25/100;return l(w+P*(a-2451545)+Q*b*b+C*b*b*b)}var g=[124,115,106,98,91,85,79,74,70,65,62,58,55,53,50,48,46,44,42,40,37,35,33,31,28,26,24,22,20,18,16,14,13,12,11,10,9,9,9,9,9,9,9,9,10,10,10,10,10,11,11,11,11,11,11,11,12,12,12,12,12,12,13,13,13,13,14,14,14,
15,15,15,15,16,16,16,16,16,17,17,17,17,17,17,17,17,16,16,15,14,13.7,13.1,12.7,12.5,12.5,12.5,12.5,12.5,12.5,12.3,12,11.4,10.6,9.6,8.6,7.5,6.6,6,5.7,5.6,5.7,5.9,6.2,6.5,6.8,7.1,7.3,7.5,7.7,7.8,7.9,7.5,6.4,5.4,2.9,1.6,-1,-2.7,-3.6,-4.7,-5.4,-5.2,-5.5,-5.6,-5.8,-5.9,-6.2,-6.4,-6.1,-4.7,-2.7,0,2.6,5.4,7.7,10.5,13.4,16,18.2,20.2,21.2,22.4,23.5,23.9,24.3,24,23.9,23.9,23.7,24,24.3,25.3,26.2,27.3,28.2,29.1,30,30.7,31.4,32.2,33.1,34,35,36.5,38.3,40.2,42.2,44.5,46.5,48.5,50.5,52.2,53.8,54.9,55.8,56.9,58.3],
h=[[0,0,0,0,1],[-2,0,0,2,2],[0,0,0,2,2],[0,0,0,0,2],[0,1,0,0,0],[0,0,1,0,0],[-2,1,0,2,2],[0,0,0,2,1],[0,0,1,2,2],[-2,-1,0,2,2],[-2,0,1,0,0],[-2,0,0,2,1],[0,0,-1,2,2],[2,0,0,0,0],[0,0,1,0,1],[2,0,-1,2,2],[0,0,-1,0,1],[0,0,1,2,1],[-2,0,2,0,0],[0,0,-2,2,1],[2,0,0,2,2],[0,0,2,2,2],[0,0,2,0,0],[-2,0,1,2,2],[0,0,0,2,0],[-2,0,0,2,0],[0,0,-1,2,1],[0,2,0,0,0],[2,0,-1,0,1],[-2,2,0,2,2],[0,1,0,0,1],[-2,0,1,0,1],[0,-1,0,0,1],[0,0,2,-2,0],[2,0,-1,2,1],[2,0,1,2,2],[0,1,0,2,2],[-2,1,1,0,0],[0,-1,0,2,2],[2,0,0,2,
1],[2,0,1,0,0],[-2,0,2,2,2],[-2,0,1,2,1],[2,0,-2,0,1],[2,0,0,0,1],[0,-1,1,0,0],[-2,-1,0,2,1],[-2,0,0,0,1],[0,0,2,2,1],[-2,0,2,0,1],[-2,1,0,2,1],[0,0,1,-2,0],[-1,0,1,0,0],[-2,1,0,0,0],[1,0,0,0,0],[0,0,1,2,0],[0,0,-2,2,2],[-1,-1,1,0,0],[0,1,1,0,0],[0,-1,1,2,2],[2,-1,-1,2,2],[0,0,3,2,2],[2,-1,0,2,2]],f=[[-171996,-174.2,92025,8.9],[-13187,-1.6,5736,-3.1],[-2274,-.2,977,-.5],[2062,.2,-895,.5],[1426,-3.4,54,-.1],[712,.1,-7,0],[-517,1.2,224,-.6],[-386,-.4,200,0],[-301,0,129,-.1],[217,-.5,-95,.3],[-158,0,
0,0],[129,.1,-70,0],[123,0,-53,0],[63,0,0,0],[63,.1,-33,0],[-59,0,26,0],[-58,-.1,32,0],[-51,0,27,0],[48,0,0,0],[46,0,-24,0],[-38,0,16,0],[-31,0,13,0],[29,0,0,0],[29,0,-12,0],[26,0,0,0],[-22,0,0,0],[21,0,-10,0],[17,-.1,0,0],[16,0,-8,0],[-16,.1,7,0],[-15,0,9,0],[-13,0,7,0],[-12,0,6,0],[11,0,0,0],[-10,0,5,0],[-8,0,3,0],[7,0,-3,0],[-7,0,0,0],[-7,0,3,0],[-7,0,3,0],[6,0,0,0],[6,0,-3,0],[6,0,-3,0],[-6,0,3,0],[-6,0,3,0],[5,0,0,0],[-5,0,3,0],[-5,0,3,0],[-5,0,3,0],[4,0,0,0],[4,0,0,0],[4,0,0,0],[-4,0,0,0],[-4,
0,0,0],[-4,0,0,0],[3,0,0,0],[-3,0,0,0],[-3,0,0,0],[-3,0,0,0],[-3,0,0,0],[-3,0,0,0],[-3,0,0,0],[-3,0,0,0]],k=297.85036*d,n=445267.11148*d,m=-.0019142*d,p=d/189474,q=357.52772*d,t=35999.05034*d,z=-.0086972*d,D=-d/3E5,v=134.96298*d,E=477198.867398*d,x=.0086972*d,F=d/56250,G=93.27191*d,K=483202.017538*d,L=-.0036825*d,H=d/327270,M=125.04452*d,N=-1934.136261*d,A=.0020708*d,B=d/45E4,w=280.46061837*d,P=360.98564736629*d,Q=3.87933E-4*d,C=-d/3871E4,R=15*I;a.JD2JDE=e;a.JDE2JD=function(a){return a-c(a)/86400};
a.getMeanSiderealTime=r;a.getApparentSiderealTime=function(a){var c=b(a);return r(a)+c.longitude/R*Math.cos(c.obliquity)};a.getNutation=b})(this);"use strict";(function(a){function b(){return{p:this.p,l:this.l,z:this.z}}function c(){return{x:this.x,y:this.y,z:this.z}}function e(){return{l:this.l,b:this.b,i:this.i,r:this.r}}function h(){this.r=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z);this.i=Math.acos(this.z/this.r);this.b=q/2-this.i;this.l=Math.atan2(this.y,this.x);return(this.sph=e).call(this)}
function g(){var a=this.r*Math.sin(this.i);this.x=a*Math.cos(this.l);this.y=a*Math.sin(this.l);this.z=this.r*Math.cos(this.i);return(this.cart=c).call(this)}function x(){this.p=Math.sqrt(this.x*this.x+this.y*this.y);this.l=Math.atan2(this.y,this.x);return(this.cyl=b).call(this)}function f(){this.x=this.p*Math.cos(this.l);this.y=this.p*Math.sin(this.l);return(this.cart=c).call(this)}function k(){this.i=Math.atan2(this.p,this.z);this.b=q/2-this.i;this.r=Math.sqrt(this.p*this.p+this.z*this.z);return(this.sph=
e).call(this)}function n(){this.p=this.r*Math.cos(this.b);this.z=this.r*Math.sin(this.b);return(this.cyl=b).call(this)}function m(a){"x"in a&&"y"in a&&"z"in a?(this.x=a.x,this.y=a.y,this.z=a.z,this.cart=c,this.sph=h,this.cyl=x):"p"in a&&"l"in a&&"z"in a?(this.p=a.p,this.l=a.l,this.z=a.z,this.cart=f,this.sph=k,this.cyl=b):"l"in a&&"r"in a&&(this.l=a.l,this.r=a.r,"i"in a||"b"in a)&&(this.cart=g,this.sph=e,this.cyl=n,"b"in a?(this.b=a.b,this.i=q/2-this.b):"i"in a&&(this.i=a.i,this.b=q/2-this.i))}m.prototype.ecl2equ=
function(a){var b=this.cart(),c=Math.sin(a);a=Math.cos(a);return new m({x:b.x,y:b.y*a-b.z*c,z:b.z*a+b.y*c})};m.prototype.equ2ecl=function(a){var b=this.cart(),c=Math.sin(a);a=Math.cos(a);return new m({x:b.x,y:b.y*a+b.z*c,z:b.z*a-b.y*c})};var p=32.932*d,J=192.859508*d,t=27.128336*d;m.prototype.gal2equ=function(){var a=this.sph(),b=a.l,c=a.b,a=Math.sin(c),c=Math.cos(c),d=Math.sin(t),e=Math.cos(t),f=c*Math.sin(b-p),g=Math.asin(a*d+f*e);return{l:l(Math.atan2(c*Math.cos(b-p),a*e-f*d)+J),b:y(g)}};m.prototype.equ2gal=
function(){var a=this.sph(),b=a.l,c=a.b,a=Math.sin(c),c=Math.cos(c),d=Math.sin(t),e=Math.cos(t),f=Math.cos(J-b),g=Math.asin(a*d+c*e*f);return{l:l(p-Math.atan2(Math.sin(J-b),f*d-a/c*e)-q/2),b:y(g)}};var z=2306.2181*d,D=1.39656*d,v=1.39E-4*d,E=.30188*d,I=3.44E-4*d,F=.017998*d,G=1.09468*d,K=6.6E-5*d,L=.018203*d,H=2004.3109*d,M=.8533*d,N=.42665*d,A=2.17E-4*d,B=.041833*d;m.prototype.precess=function(a,b){var c=this.l,d=this.b,e,f,g;e=(a-b)/36E4;var h=e*e,k=h*e;e?(f=b/36E4,g=f*f,b=(z+D*f-v*g)*e+(G+K*f)*
h+L*k,a=(z+D*f-v*g)*e+(E-I*f)*h+F*k,e=(H-M*f-A*g)*e-(N+A*f)*h-B*k):(b=z*e+G*h+B*k,a=z*e+E*h+F*k,e=H*e-A*h-B*k);k=Math.cos(d);h=k*Math.cos(c+a);c=k*Math.sin(c+a);a=Math.cos(e)*h-Math.sin(e)*Math.sin(d);e=Math.sin(e)*h+Math.cos(e)*Math.sin(d);b=Math.atan2(c,a)+b;d>.4*q||d<-.4*q?(c=Math.acos(sqrt(c*c+a*a)),0>d&&(c*=-1)):c=Math.asin(e);return{l:l(b),b:y(c)}};a.Coord=m})(this)})(window);

/* crc: 1F428CBB56B4B0C614B4867F245CC4B0 */
